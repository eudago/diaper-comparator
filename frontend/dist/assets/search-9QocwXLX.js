import{r as W,R as Ca,a as Na,b as N}from"./tanstack-router-CHUayx7v.js";import{g as Ar}from"./react-vendor-Cgg2GOmP.js";const mr="7.22.1";var wt,qr;function Cr(){if(qr)return wt;qr=1;function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}wt=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(a){if(!r(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},e.prototype.emit=function(a){var u,f,h,d,p,y;if(this._events||(this._events={}),a==="error"&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if(u=arguments[1],u instanceof Error)throw u;var c=new Error('Uncaught, unspecified "error" event. ('+u+")");throw c.context=u,c}if(f=this._events[a],i(f))return!1;if(t(f))switch(arguments.length){case 1:f.call(this);break;case 2:f.call(this,arguments[1]);break;case 3:f.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),f.apply(this,d)}else if(n(f))for(d=Array.prototype.slice.call(arguments,1),y=f.slice(),h=y.length,p=0;p<h;p++)y[p].apply(this,d);return!0},e.prototype.addListener=function(a,u){var f;if(!t(u))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,t(u.listener)?u.listener:u),this._events[a]?n(this._events[a])?this._events[a].push(u):this._events[a]=[this._events[a],u]:this._events[a]=u,n(this._events[a])&&!this._events[a].warned&&(i(this._maxListeners)?f=e.defaultMaxListeners:f=this._maxListeners,f&&f>0&&this._events[a].length>f&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),typeof console.trace=="function"&&console.trace())),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(a,u){if(!t(u))throw TypeError("listener must be a function");var f=!1;function h(){this.removeListener(a,h),f||(f=!0,u.apply(this,arguments))}return h.listener=u,this.on(a,h),this},e.prototype.removeListener=function(a,u){var f,h,d,p;if(!t(u))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(f=this._events[a],d=f.length,h=-1,f===u||t(f.listener)&&f.listener===u)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,u);else if(n(f)){for(p=d;p-- >0;)if(f[p]===u||f[p].listener&&f[p].listener===u){h=p;break}if(h<0)return this;f.length===1?(f.length=0,delete this._events[a]):f.splice(h,1),this._events.removeListener&&this.emit("removeListener",a,u)}return this},e.prototype.removeAllListeners=function(a){var u,f;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[a]&&delete this._events[a],this;if(arguments.length===0){for(u in this._events)u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events={},this}if(f=this._events[a],t(f))this.removeListener(a,f);else if(f)for(;f.length;)this.removeListener(a,f[f.length-1]);return delete this._events[a],this},e.prototype.listeners=function(a){var u;return!this._events||!this._events[a]?u=[]:t(this._events[a])?u=[this._events[a]]:u=this._events[a].slice(),u},e.prototype.listenerCount=function(a){if(this._events){var u=this._events[a];if(t(u))return 1;if(u)return u.length}return 0},e.listenerCount=function(a,u){return a.listenerCount(u)};function t(a){return typeof a=="function"}function r(a){return typeof a=="number"}function n(a){return typeof a=="object"&&a!==null}function i(a){return a===void 0}return wt}var _t,Br;function Li(){if(Br)return _t;Br=1;function e(t,r){t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}return _t=e,_t}var xt,Vr;function Ha(){if(Vr)return xt;Vr=1;var e=Cr(),t=Li();function r(n,i,a){this.main=n,this.fn=i,this.recommendFn=a,this.lastResults=null,this.lastRecommendResults=null}return t(r,e),r.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},r.prototype.getModifiedState=function(n){return this.fn(n)},r.prototype.getModifiedRecommendState=function(n){return this.recommendFn(n)},xt=r,xt}var Ft,Kr;function Nr(){if(Kr)return Ft;Kr=1;function e(r){return typeof r!="string"?r:String(r).replace(/^-/,"\\-")}function t(r){return typeof r!="string"?r:r.replace(/^\\-/,"-")}return Ft={escapeFacetValue:e,unescapeFacetValue:t},Ft}var Et,zr;function Hr(){if(zr)return Et;zr=1;function e(i){return typeof i=="object"&&i!==null?r(Array.isArray(i)?[]:{},i):i}function t(i){return typeof i=="function"||Array.isArray(i)||Object.prototype.toString.call(i)==="[object Object]"}function r(i,a){if(i===a)return i;for(var u in a)if(!(!Object.prototype.hasOwnProperty.call(a,u)||u==="__proto__"||u==="constructor")){var f=a[u],h=i[u];typeof h<"u"&&typeof f>"u"||(t(h)&&t(f)?i[u]=r(h,f):i[u]=e(f))}return i}function n(i){t(i)||(i={});for(var a=1,u=arguments.length;a<u;a++){var f=arguments[a];t(f)&&r(i,f)}return i}return Et=n,Et}var $t,Jr;function Dr(){if(Jr)return $t;Jr=1;function e(t){return t&&Object.keys(t).length>0}return $t=e,$t}var It,Gr;function Lr(){if(Gr)return It;Gr=1;function e(t,r){if(t===null)return{};var n={},i=Object.keys(t),a,u;for(u=0;u<i.length;u++)a=i[u],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}return It=e,It}var Tt,Xr;function ki(){if(Xr)return Tt;Xr=1;function e(t){t=t||{},this.params=t.params||[]}return e.prototype={constructor:e,addParams:function(t){var r=this.params.slice();return r.push(t),new e({params:r})},removeParams:function(t){return new e({params:this.params.filter(function(r){return r.$$id!==t})})},addFrequentlyBoughtTogether:function(t){return this.addParams(Object.assign({},t,{model:"bought-together"}))},addRelatedProducts:function(t){return this.addParams(Object.assign({},t,{model:"related-products"}))},addTrendingItems:function(t){return this.addParams(Object.assign({},t,{model:"trending-items"}))},addTrendingFacets:function(t){return this.addParams(Object.assign({},t,{model:"trending-facets"}))},addLookingSimilar:function(t){return this.addParams(Object.assign({},t,{model:"looking-similar"}))},_buildQueries:function(t,r){return this.params.filter(function(n){return r[n.$$id]===void 0}).map(function(n){var i=Object.assign({},n,{indexName:t,threshold:n.threshold||0});return delete i.$$id,i})}},Tt=e,Tt}var At,Yr;function Wi(){if(Yr)return At;Yr=1;function e(t,r){this._state=t,this._rawResults={};var n=this;t.params.forEach(function(i){var a=i.$$id;n[a]=r[a],n._rawResults[a]=r[a]})}return e.prototype={constructor:e},At=e,At}var Ct,Zr;function Da(){if(Zr)return Ct;Zr=1;var e=Hr();function t(n){return Object.keys(n).sort().reduce(function(i,a){return i[a]=n[a],i},{})}var r={_getQueries:function(i,a){var u=[];return u.push({indexName:i,params:r._getHitsSearchParams(a)}),a.getRefinedDisjunctiveFacets().forEach(function(f){u.push({indexName:i,params:r._getDisjunctiveFacetSearchParams(a,f)})}),a.getRefinedHierarchicalFacets().forEach(function(f){var h=a.getHierarchicalFacetByName(f),d=a.getHierarchicalRefinement(f),p=a._getHierarchicalFacetSeparator(h);if(d.length>0&&d[0].split(p).length>1){var y=d[0].split(p).slice(0,-1).reduce(function(s,o,m){return s.concat({attribute:h.attributes[m],value:m===0?o:[s[s.length-1].value,o].join(p)})},[]);y.forEach(function(c,s){var o=r._getDisjunctiveFacetSearchParams(a,c.attribute,s===0);function m(g){return h.attributes.some(function(b){return b===g.split(":")[0]})}var v=(o.facetFilters||[]).reduce(function(g,b){if(Array.isArray(b)){var P=b.filter(function(R){return!m(R)});P.length>0&&g.push(P)}return typeof b=="string"&&!m(b)&&g.push(b),g},[]),l=y[s-1];s>0?o.facetFilters=v.concat(l.attribute+":"+l.value):v.length>0?o.facetFilters=v:delete o.facetFilters,u.push({indexName:i,params:o})})}}),u},_getCompositionQueries:function(i){return[{compositionID:i.index,requestBody:{params:r._getCompositionHitsSearchParams(i)}}]},_getHitsSearchParams:function(n){var i=n.facets.concat(n.disjunctiveFacets).concat(r._getHitsHierarchicalFacetsAttributes(n)).sort(),a=r._getFacetFilters(n),u=r._getNumericFilters(n),f=r._getTagFilters(n),h={};return i.length>0&&(h.facets=i.indexOf("*")>-1?["*"]:i),f.length>0&&(h.tagFilters=f),a.length>0&&(h.facetFilters=a),u.length>0&&(h.numericFilters=u),t(e({},n.getQueryParams(),h))},_getCompositionHitsSearchParams:function(n){var i=n.facets.concat(n.disjunctiveFacets.map(function(p){return n.disjunctiveFacetsRefinements&&n.disjunctiveFacetsRefinements[p]&&n.disjunctiveFacetsRefinements[p].length>0?"disjunctive("+p+")":p})).concat(r._getHitsHierarchicalFacetsAttributes(n)).sort(),a=r._getFacetFilters(n),u=r._getNumericFilters(n),f=r._getTagFilters(n),h={};i.length>0&&(h.facets=i.indexOf("*")>-1?["*"]:i),f.length>0&&(h.tagFilters=f),a.length>0&&(h.facetFilters=a),u.length>0&&(h.numericFilters=u);var d=n.getQueryParams();return delete d.highlightPreTag,delete d.highlightPostTag,delete d.index,t(e({},d,h))},_getDisjunctiveFacetSearchParams:function(n,i,a){var u=r._getFacetFilters(n,i,a),f=r._getNumericFilters(n,i),h=r._getTagFilters(n),d={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};h.length>0&&(d.tagFilters=h);var p=n.getHierarchicalFacetByName(i);return p?d.facets=r._getDisjunctiveHierarchicalFacetAttribute(n,p,a):d.facets=i,f.length>0&&(d.numericFilters=f),u.length>0&&(d.facetFilters=u),t(e({},n.getQueryParams(),d))},_getNumericFilters:function(n,i){if(n.numericFilters)return n.numericFilters;var a=[];return Object.keys(n.numericRefinements).forEach(function(u){var f=n.numericRefinements[u]||{};Object.keys(f).forEach(function(h){var d=f[h]||[];i!==u&&d.forEach(function(p){if(Array.isArray(p)){var y=p.map(function(c){return u+h+c});a.push(y)}else a.push(u+h+p)})})}),a},_getTagFilters:function(n){return n.tagFilters?n.tagFilters:n.tagRefinements.join(",")},_getFacetFilters:function(n,i,a){var u=[],f=n.facetsRefinements||{};Object.keys(f).sort().forEach(function(y){var c=f[y]||[];c.slice().sort().forEach(function(s){u.push(y+":"+s)})});var h=n.facetsExcludes||{};Object.keys(h).sort().forEach(function(y){var c=h[y]||[];c.sort().forEach(function(s){u.push(y+":-"+s)})});var d=n.disjunctiveFacetsRefinements||{};Object.keys(d).sort().forEach(function(y){var c=d[y]||[];if(!(y===i||!c||c.length===0)){var s=[];c.slice().sort().forEach(function(o){s.push(y+":"+o)}),u.push(s)}});var p=n.hierarchicalFacetsRefinements||{};return Object.keys(p).sort().forEach(function(y){var c=p[y]||[],s=c[0];if(s!==void 0){var o=n.getHierarchicalFacetByName(y),m=n._getHierarchicalFacetSeparator(o),v=n._getHierarchicalRootPath(o),l,g;if(i===y){if(s.indexOf(m)===-1||!v&&a===!0||v&&v.split(m).length===s.split(m).length)return;v?(g=v.split(m).length-1,s=v):(g=s.split(m).length-2,s=s.slice(0,s.lastIndexOf(m))),l=o.attributes[g]}else g=s.split(m).length-1,l=o.attributes[g];l&&u.push([l+":"+s])}}),u},_getHitsHierarchicalFacetsAttributes:function(n){var i=[];return n.hierarchicalFacets.reduce(function(u,f){var h=n.getHierarchicalRefinement(f.name)[0];if(!h)return u.push(f.attributes[0]),u;var d=n._getHierarchicalFacetSeparator(f),p=h.split(d).length,y=f.attributes.slice(0,p+1);return u.concat(y)},i)},_getDisjunctiveHierarchicalFacetAttribute:function(n,i,a){var u=n._getHierarchicalFacetSeparator(i);if(a===!0){var f=n._getHierarchicalRootPath(i),h=0;return f&&(h=f.split(u).length),[i.attributes[h]]}var d=n.getHierarchicalRefinement(i.name)[0]||"",p=d.split(u).length-1;return i.attributes.slice(0,p+1)},getSearchForFacetQuery:function(n,i,a,u){var f=u.isDisjunctiveFacet(n)?u.clearRefinements(n):u,h={facetQuery:i,facetName:n};return typeof a=="number"&&(h.maxFacetHits=a),t(e({},r._getHitsSearchParams(f),h))}};return Ct=r,Ct}var Nt,en;function kr(){return en||(en=1,Nt=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})}),Nt}var Ht,tn;function lt(){return tn||(tn=1,Ht=function(t,r){if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}}),Ht}var Dt,rn;function La(){if(rn)return Dt;rn=1;function e(t,r){return t.filter(function(n,i){return r.indexOf(n)>-1&&t.indexOf(n)===i})}return Dt=e,Dt}var Lt,nn;function ka(){if(nn)return Lt;nn=1;function e(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}return Lt=e,Lt}var kt,an;function Wa(){return an||(an=1,kt=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)}),kt}var Wt,sn;function Ua(){if(sn)return Wt;sn=1;var e=kr(),t=Dr(),r=Lr(),n={addRefinement:function(a,u,f){if(n.isRefined(a,u,f))return a;var h=""+f,d=a[u]?a[u].concat(h):[h],p={};return p[u]=d,e(p,a)},removeRefinement:function(a,u,f){if(f===void 0)return n.clearRefinement(a,function(d,p){return u===p});var h=""+f;return n.clearRefinement(a,function(d,p){return u===p&&h===d})},toggleRefinement:function(a,u,f){if(f===void 0)throw new Error("toggleRefinement should be used with a value");return n.isRefined(a,u,f)?n.removeRefinement(a,u,f):n.addRefinement(a,u,f)},clearRefinement:function(a,u,f){if(u===void 0)return t(a)?{}:a;if(typeof u=="string")return r(a,[u]);if(typeof u=="function"){var h=!1,d=Object.keys(a).reduce(function(p,y){var c=a[y]||[],s=c.filter(function(o){return!u(o,y,f)});return s.length!==c.length&&(h=!0),p[y]=s,p},{});return h?d:a}},isRefined:function(a,u,f){var h=!!a[u]&&a[u].length>0;if(f===void 0||!h)return h;var d=""+f;return a[u].indexOf(d)!==-1}};return Wt=n,Wt}var Ut,on;function Ui(){if(on)return Ut;on=1;var e=kr(),t=lt(),r=La(),n=Hr(),i=Dr(),a=Lr(),u=ka(),f=Wa(),h=Ua();function d(c,s){return Array.isArray(c)&&Array.isArray(s)?c.length===s.length&&c.every(function(o,m){return d(s[m],o)}):c===s}function p(c,s){return t(c,function(o){return d(o,s)})}function y(c){var s=c?y._parseNumbers(c):{};s.userToken!==void 0&&!f(s.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=s.facets||[],this.disjunctiveFacets=s.disjunctiveFacets||[],this.hierarchicalFacets=s.hierarchicalFacets||[],this.facetsRefinements=s.facetsRefinements||{},this.facetsExcludes=s.facetsExcludes||{},this.disjunctiveFacetsRefinements=s.disjunctiveFacetsRefinements||{},this.numericRefinements=s.numericRefinements||{},this.tagRefinements=s.tagRefinements||[],this.hierarchicalFacetsRefinements=s.hierarchicalFacetsRefinements||{};var o=this;Object.keys(s).forEach(function(m){var v=y.PARAMETERS.indexOf(m)!==-1,l=s[m]!==void 0;!v&&l&&(o[m]=s[m])})}return y.PARAMETERS=Object.keys(new y),y._parseNumbers=function(c){if(c instanceof y)return c;var s={},o=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(o.forEach(function(v){var l=c[v];if(typeof l=="string"){var g=parseFloat(l);s[v]=isNaN(g)?l:g}}),Array.isArray(c.insideBoundingBox)&&(s.insideBoundingBox=c.insideBoundingBox.map(function(v){return Array.isArray(v)?v.map(function(l){return parseFloat(l)}):v})),c.numericRefinements){var m={};Object.keys(c.numericRefinements).forEach(function(v){var l=c.numericRefinements[v]||{};m[v]={},Object.keys(l).forEach(function(g){var b=l[g],P=b.map(function(R){return Array.isArray(R)?R.map(function(j){return typeof j=="string"?parseFloat(j):j}):typeof R=="string"?parseFloat(R):R});m[v][g]=P})}),s.numericRefinements=m}return n(c,s)},y.make=function(s){var o=new y(s),m=s.hierarchicalFacets||[];return m.forEach(function(v){if(v.rootPath){var l=o.getHierarchicalRefinement(v.name);l.length>0&&l[0].indexOf(v.rootPath)!==0&&(o=o.clearRefinements(v.name)),l=o.getHierarchicalRefinement(v.name),l.length===0&&(o=o.toggleHierarchicalFacetRefinement(v.name,v.rootPath))}}),o},y.validate=function(c,s){var o=s||{};return c.tagFilters&&o.tagRefinements&&o.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):c.tagRefinements.length>0&&o.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):c.numericFilters&&o.numericRefinements&&i(o.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):i(c.numericRefinements)&&o.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},y.prototype={constructor:y,clearRefinements:function(s){var o={numericRefinements:this._clearNumericRefinements(s),facetsRefinements:h.clearRefinement(this.facetsRefinements,s,"conjunctiveFacet"),facetsExcludes:h.clearRefinement(this.facetsExcludes,s,"exclude"),disjunctiveFacetsRefinements:h.clearRefinement(this.disjunctiveFacetsRefinements,s,"disjunctiveFacet"),hierarchicalFacetsRefinements:h.clearRefinement(this.hierarchicalFacetsRefinements,s,"hierarchicalFacet")};return o.numericRefinements===this.numericRefinements&&o.facetsRefinements===this.facetsRefinements&&o.facetsExcludes===this.facetsExcludes&&o.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&o.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(o)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(s){return s===this.index?this:this.setQueryParameters({index:s})},setQuery:function(s){return s===this.query?this:this.setQueryParameters({query:s})},setPage:function(s){return s===this.page?this:this.setQueryParameters({page:s})},setFacets:function(s){return this.setQueryParameters({facets:s})},setDisjunctiveFacets:function(s){return this.setQueryParameters({disjunctiveFacets:s})},setHitsPerPage:function(s){return this.hitsPerPage===s?this:this.setQueryParameters({hitsPerPage:s})},setTypoTolerance:function(s){return this.typoTolerance===s?this:this.setQueryParameters({typoTolerance:s})},addNumericRefinement:function(c,s,o){var m=u(o);if(this.isNumericRefined(c,s,m))return this;var v=n({},this.numericRefinements);return v[c]=n({},v[c]),v[c][s]?(v[c][s]=v[c][s].slice(),v[c][s].push(m)):v[c][s]=[m],this.setQueryParameters({numericRefinements:v})},getConjunctiveRefinements:function(c){return this.isConjunctiveFacet(c)?this.facetsRefinements[c]||[]:[]},getDisjunctiveRefinements:function(c){return this.isDisjunctiveFacet(c)?this.disjunctiveFacetsRefinements[c]||[]:[]},getHierarchicalRefinement:function(c){return this.hierarchicalFacetsRefinements[c]||[]},getExcludeRefinements:function(c){return this.isConjunctiveFacet(c)?this.facetsExcludes[c]||[]:[]},removeNumericRefinement:function(c,s,o){var m=o;return m!==void 0?this.isNumericRefined(c,s,m)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(v,l){return l===c&&v.op===s&&d(v.val,u(m))})}):this:s!==void 0?this.isNumericRefined(c,s)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(v,l){return l===c&&v.op===s})}):this:this.isNumericRefined(c)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(v,l){return l===c})}):this},getNumericRefinements:function(c){return this.numericRefinements[c]||{}},getNumericRefinement:function(c,s){return this.numericRefinements[c]&&this.numericRefinements[c][s]},_clearNumericRefinements:function(s){if(s===void 0)return i(this.numericRefinements)?{}:this.numericRefinements;if(typeof s=="string")return a(this.numericRefinements,[s]);if(typeof s=="function"){var o=!1,m=this.numericRefinements,v=Object.keys(m).reduce(function(l,g){var b=m[g],P={};return b=b||{},Object.keys(b).forEach(function(R){var j=b[R]||[],_=[];j.forEach(function(S){var O=s({val:S,op:R},g,"numeric");O||_.push(S)}),_.length!==j.length&&(o=!0),P[R]=_}),l[g]=P,l},{});return o?v:this.numericRefinements}},addFacet:function(s){return this.isConjunctiveFacet(s)?this:this.setQueryParameters({facets:this.facets.concat([s])})},addDisjunctiveFacet:function(s){return this.isDisjunctiveFacet(s)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([s])})},addHierarchicalFacet:function(s){if(this.isHierarchicalFacet(s.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+s.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([s])})},addFacetRefinement:function(s,o){if(!this.isConjunctiveFacet(s))throw new Error(s+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,s,o)?this:this.setQueryParameters({facetsRefinements:h.addRefinement(this.facetsRefinements,s,o)})},addExcludeRefinement:function(s,o){if(!this.isConjunctiveFacet(s))throw new Error(s+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,s,o)?this:this.setQueryParameters({facetsExcludes:h.addRefinement(this.facetsExcludes,s,o)})},addDisjunctiveFacetRefinement:function(s,o){if(!this.isDisjunctiveFacet(s))throw new Error(s+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,s,o)?this:this.setQueryParameters({disjunctiveFacetsRefinements:h.addRefinement(this.disjunctiveFacetsRefinements,s,o)})},addTagRefinement:function(s){if(this.isTagRefined(s))return this;var o={tagRefinements:this.tagRefinements.concat(s)};return this.setQueryParameters(o)},removeFacet:function(s){return this.isConjunctiveFacet(s)?this.clearRefinements(s).setQueryParameters({facets:this.facets.filter(function(o){return o!==s})}):this},removeDisjunctiveFacet:function(s){return this.isDisjunctiveFacet(s)?this.clearRefinements(s).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(o){return o!==s})}):this},removeHierarchicalFacet:function(s){return this.isHierarchicalFacet(s)?this.clearRefinements(s).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(o){return o.name!==s})}):this},removeFacetRefinement:function(s,o){if(!this.isConjunctiveFacet(s))throw new Error(s+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,s,o)?this.setQueryParameters({facetsRefinements:h.removeRefinement(this.facetsRefinements,s,o)}):this},removeExcludeRefinement:function(s,o){if(!this.isConjunctiveFacet(s))throw new Error(s+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,s,o)?this.setQueryParameters({facetsExcludes:h.removeRefinement(this.facetsExcludes,s,o)}):this},removeDisjunctiveFacetRefinement:function(s,o){if(!this.isDisjunctiveFacet(s))throw new Error(s+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,s,o)?this.setQueryParameters({disjunctiveFacetsRefinements:h.removeRefinement(this.disjunctiveFacetsRefinements,s,o)}):this},removeTagRefinement:function(s){if(!this.isTagRefined(s))return this;var o={tagRefinements:this.tagRefinements.filter(function(m){return m!==s})};return this.setQueryParameters(o)},toggleRefinement:function(s,o){return this.toggleFacetRefinement(s,o)},toggleFacetRefinement:function(s,o){if(this.isHierarchicalFacet(s))return this.toggleHierarchicalFacetRefinement(s,o);if(this.isConjunctiveFacet(s))return this.toggleConjunctiveFacetRefinement(s,o);if(this.isDisjunctiveFacet(s))return this.toggleDisjunctiveFacetRefinement(s,o);throw new Error("Cannot refine the undeclared facet "+s+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(s,o){if(!this.isConjunctiveFacet(s))throw new Error(s+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:h.toggleRefinement(this.facetsRefinements,s,o)})},toggleExcludeFacetRefinement:function(s,o){if(!this.isConjunctiveFacet(s))throw new Error(s+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:h.toggleRefinement(this.facetsExcludes,s,o)})},toggleDisjunctiveFacetRefinement:function(s,o){if(!this.isDisjunctiveFacet(s))throw new Error(s+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:h.toggleRefinement(this.disjunctiveFacetsRefinements,s,o)})},toggleHierarchicalFacetRefinement:function(s,o){if(!this.isHierarchicalFacet(s))throw new Error(s+" is not defined in the hierarchicalFacets attribute of the helper configuration");var m=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(s)),v={},l=this.hierarchicalFacetsRefinements[s]!==void 0&&this.hierarchicalFacetsRefinements[s].length>0&&(this.hierarchicalFacetsRefinements[s][0]===o||this.hierarchicalFacetsRefinements[s][0].indexOf(o+m)===0);return l?o.indexOf(m)===-1?v[s]=[]:v[s]=[o.slice(0,o.lastIndexOf(m))]:v[s]=[o],this.setQueryParameters({hierarchicalFacetsRefinements:e(v,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(c,s){if(this.isHierarchicalFacetRefined(c))throw new Error(c+" is already refined.");if(!this.isHierarchicalFacet(c))throw new Error(c+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var o={};return o[c]=[s],this.setQueryParameters({hierarchicalFacetsRefinements:e(o,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(c){if(!this.isHierarchicalFacetRefined(c))return this;var s={};return s[c]=[],this.setQueryParameters({hierarchicalFacetsRefinements:e(s,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(s){return this.isTagRefined(s)?this.removeTagRefinement(s):this.addTagRefinement(s)},isDisjunctiveFacet:function(c){return this.disjunctiveFacets.indexOf(c)>-1},isHierarchicalFacet:function(c){return this.getHierarchicalFacetByName(c)!==void 0},isConjunctiveFacet:function(c){return this.facets.indexOf(c)>-1},isFacetRefined:function(s,o){return this.isConjunctiveFacet(s)?h.isRefined(this.facetsRefinements,s,o):!1},isExcludeRefined:function(s,o){return this.isConjunctiveFacet(s)?h.isRefined(this.facetsExcludes,s,o):!1},isDisjunctiveFacetRefined:function(s,o){return this.isDisjunctiveFacet(s)?h.isRefined(this.disjunctiveFacetsRefinements,s,o):!1},isHierarchicalFacetRefined:function(s,o){if(!this.isHierarchicalFacet(s))return!1;var m=this.getHierarchicalRefinement(s);return o?m.indexOf(o)!==-1:m.length>0},isNumericRefined:function(s,o,m){if(m===void 0&&o===void 0)return!!this.numericRefinements[s];var v=this.numericRefinements[s]&&this.numericRefinements[s][o]!==void 0;if(m===void 0||!v)return v;var l=u(m),g=p(this.numericRefinements[s][o],l)!==void 0;return v&&g},isTagRefined:function(s){return this.tagRefinements.indexOf(s)!==-1},getRefinedDisjunctiveFacets:function(){var s=this,o=r(Object.keys(this.numericRefinements).filter(function(m){return Object.keys(s.numericRefinements[m]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(m){return s.disjunctiveFacetsRefinements[m].length>0}).concat(o).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var s=this;return r(this.hierarchicalFacets.map(function(o){return o.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(o){return s.hierarchicalFacetsRefinements[o].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var c=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(s){return c.indexOf(s)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var s=this.managedParameters,o={},m=this;return Object.keys(this).forEach(function(v){var l=m[v];s.indexOf(v)===-1&&l!==void 0&&(o[v]=l)}),o},setQueryParameter:function(s,o){if(this[s]===o)return this;var m={};return m[s]=o,this.setQueryParameters(m)},setQueryParameters:function(s){if(!s)return this;var o=y.validate(this,s);if(o)throw o;var m=this,v=y._parseNumbers(s),l=Object.keys(this).reduce(function(b,P){return b[P]=m[P],b},{}),g=Object.keys(v).reduce(function(b,P){var R=b[P]!==void 0,j=v[P]!==void 0;return R&&!j?a(b,[P]):(j&&(b[P]=v[P]),b)},l);return new this.constructor(g)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(c){return c.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(c){return c.separator||" > "},_getHierarchicalRootPath:function(c){return c.rootPath||null},_getHierarchicalShowParentLevel:function(c){return typeof c.showParentLevel=="boolean"?c.showParentLevel:!0},getHierarchicalFacetByName:function(c){return t(this.hierarchicalFacets,function(s){return s.name===c})},getHierarchicalFacetBreadcrumb:function(c){if(!this.isHierarchicalFacet(c))return[];var s=this.getHierarchicalRefinement(c)[0];if(!s)return[];var o=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(c)),m=s.split(o);return m.map(function(v){return v.trim()})},toString:function(){return JSON.stringify(this,null,2)}},Ut=y,Ut}var Mt,un;function Ma(){return un||(un=1,Mt=function(t){return Array.isArray(t)?t.filter(Boolean):[]}),Mt}var Qt,cn;function Qa(){return cn||(cn=1,Qt=function(t,r){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(r(t[n]))return n;return-1}),Qt}var qt,ln;function Mi(){if(ln)return qt;ln=1;var e=lt();return qt=function(r,n){var i=(n||[]).map(function(a){return a.split(":")});return r.reduce(function(u,f){var h=f.split(":"),d=e(i,function(p){return p[0]===h[0]});return h.length>1||!d?(u[0].push(h[0]),u[1].push(h[1]),u):(u[0].push(d[0]),u[1].push(d[1]),u)},[[],[]])},qt}var Bt,fn;function qa(){if(fn)return Bt;fn=1;function e(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){var a=typeof r[i]=="number"?r[i]:0,u=n[i];u!==void 0&&u>=a&&(r[i]!==void 0&&delete r[i],r[i]=u)}),r},{})}return Bt=e,Bt}var Vt,hn;function Qi(){if(hn)return Vt;hn=1;function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,u=n!==void 0,f=n===null;if(!f&&r>n||a&&u||!i)return 1;if(!a&&r<n||f&&i||!u)return-1}return 0}function t(r,n,i){if(!Array.isArray(r))return[];Array.isArray(i)||(i=[]);var a=r.map(function(u,f){return{criteria:n.map(function(h){return u[h]}),index:f,value:u}});return a.sort(function(f,h){for(var d=-1;++d<f.criteria.length;){var p=e(f.criteria[d],h.criteria[d]);if(p)return d>=i.length?p:i[d]==="desc"?-p:p}return f.index-h.index}),a.map(function(u){return u.value})}return Vt=t,Vt}var Kt,dn;function Ba(){if(dn)return Kt;dn=1,Kt=u;var e=Nr(),t=lt(),r=Mi(),n=Qi(),i=e.escapeFacetValue,a=e.unescapeFacetValue;function u(p){return function(c,s){var o=p.hierarchicalFacets[s],m=p.hierarchicalFacetsRefinements[o.name]&&p.hierarchicalFacetsRefinements[o.name][0]||"",v=p._getHierarchicalFacetSeparator(o),l=p._getHierarchicalRootPath(o),g=p._getHierarchicalShowParentLevel(o),b=r(p._getHierarchicalFacetSortBy(o)),P=c.every(function(_){return _.exhaustive}),R=f(b,v,l,g,m),j=c;return l&&(j=c.slice(l.split(v).length)),j.reduce(R,{name:p.hierarchicalFacets[s].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:P,data:null})}}function f(p,y,c,s,o){return function(v,l,g){var b=v;if(g>0){var P=0;for(b=v;P<g;){var R=b&&Array.isArray(b.data)?b.data:[];b=t(R,function(_){return _.isRefined}),P++}}if(b){var j=Object.keys(l.data).map(function(_){return[_,l.data[_]]}).filter(function(_){var S=_[0];return h(S,b.path||c,o,y,c,s)});b.data=n(j.map(function(_){var S=_[0],O=_[1];return d(O,S,y,a(o),l.exhaustive)}),p[0],p[1])}return v}}function h(p,y,c,s,o,m){return o&&(p.indexOf(o)!==0||o===p)?!1:!o&&p.indexOf(s)===-1||o&&p.split(s).length-o.split(s).length===1||p.indexOf(s)===-1&&c.indexOf(s)===-1||c.indexOf(p)===0||p.indexOf(y+s)===0&&(m||p.indexOf(c)===0)}function d(p,y,c,s,o){var m=y.split(c);return{name:m[m.length-1].trim(),path:y,escapedValue:i(y),count:p,isRefined:s===y||s.indexOf(y+c)===0,exhaustive:o,data:null}}return Kt}var zt,mn;function qi(){if(mn)return zt;mn=1;var e=Ma(),t=kr(),r=Nr(),n=lt(),i=Qa(),a=Mi(),u=qa(),f=Qi(),h=r.escapeFacetValue,d=r.unescapeFacetValue,p=Ba();function y(S){var O={};return S.forEach(function(w,x){O[w]=x}),O}function c(S,O,w){O&&O[w]&&(S.stats=O[w])}function s(S,O){return n(S,function(x){var F=x.attributes||[];return F.indexOf(O)>-1})}function o(S,O,w){var x=O[0]||{};this._rawResults=O;var F=this;Object.keys(x).forEach(function(I){F[I]=x[I]});var E=t(w,{persistHierarchicalRootCount:!1});Object.keys(E).forEach(function(I){F[I]=E[I]}),this.processingTimeMS=O.reduce(function(I,A){return A.processingTimeMS===void 0?I:I+A.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=S.hierarchicalFacets.map(function(){return[]}),this.facets=[];var H=S.getRefinedDisjunctiveFacets(),U=y(S.facets),C=y(S.disjunctiveFacets),T=1,$=x.facets||{};Object.keys($).forEach(function(I){var A=$[I],D=s(S.hierarchicalFacets,I);if(D){var Q=D.attributes.indexOf(I),q=i(S.hierarchicalFacets,function(z){return z.name===D.name});F.hierarchicalFacets[q][Q]={attribute:I,data:A,exhaustive:x.exhaustiveFacetsCount}}else{var G=S.disjunctiveFacets.indexOf(I)!==-1,L=S.facets.indexOf(I)!==-1,M;G&&(M=C[I],F.disjunctiveFacets[M]={name:I,data:A,exhaustive:x.exhaustiveFacetsCount},c(F.disjunctiveFacets[M],x.facets_stats,I)),L&&(M=U[I],F.facets[M]={name:I,data:A,exhaustive:x.exhaustiveFacetsCount},c(F.facets[M],x.facets_stats,I))}}),this.hierarchicalFacets=e(this.hierarchicalFacets),H.forEach(function(I){var A=O[T],D=A&&A.facets?A.facets:{},Q=S.getHierarchicalFacetByName(I);Object.keys(D).forEach(function(q){var G=D[q],L;if(Q){L=i(S.hierarchicalFacets,function(V){return V.name===Q.name});var M=i(F.hierarchicalFacets[L],function(V){return V.attribute===q});if(M===-1)return;F.hierarchicalFacets[L][M].data=F.persistHierarchicalRootCount?u(F.hierarchicalFacets[L][M].data,G):t(G,F.hierarchicalFacets[L][M].data)}else{L=C[q];var z=x.facets&&x.facets[q]||{};F.disjunctiveFacets[L]={name:q,data:u(z,G),exhaustive:A.exhaustiveFacetsCount},c(F.disjunctiveFacets[L],A.facets_stats,q),S.disjunctiveFacetsRefinements[q]&&S.disjunctiveFacetsRefinements[q].forEach(function(V){!F.disjunctiveFacets[L].data[V]&&S.disjunctiveFacetsRefinements[q].indexOf(d(V))>-1&&(F.disjunctiveFacets[L].data[V]=0)})}}),T++}),S.getRefinedHierarchicalFacets().forEach(function(I){var A=S.getHierarchicalFacetByName(I),D=S._getHierarchicalFacetSeparator(A),Q=S.getHierarchicalRefinement(I);Q.length===0||Q[0].split(D).length<2||O.slice(T).forEach(function(q){var G=q&&q.facets?q.facets:{};Object.keys(G).forEach(function(L){var M=G[L],z=i(S.hierarchicalFacets,function(ie){return ie.name===A.name}),V=i(F.hierarchicalFacets[z],function(ie){return ie.attribute===L});if(V!==-1){var X={};if(Q.length>0&&!F.persistHierarchicalRootCount){var te=Q[0].split(D)[0];X[te]=F.hierarchicalFacets[z][V].data[te]}F.hierarchicalFacets[z][V].data=t(X,M,F.hierarchicalFacets[z][V].data)}}),T++})}),Object.keys(S.facetsExcludes).forEach(function(I){var A=S.facetsExcludes[I],D=U[I];F.facets[D]={name:I,data:$[I],exhaustive:x.exhaustiveFacetsCount},A.forEach(function(Q){F.facets[D]=F.facets[D]||{name:I},F.facets[D].data=F.facets[D].data||{},F.facets[D].data[Q]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(p(S)),this.facets=e(this.facets),this.disjunctiveFacets=e(this.disjunctiveFacets),this._state=S}o.prototype.getFacetByName=function(S){function O(w){return w.name===S}return n(this.facets,O)||n(this.disjunctiveFacets,O)||n(this.hierarchicalFacets,O)};function m(S,O){function w($){return $.name===O}if(S._state.isConjunctiveFacet(O)){var x=n(S.facets,w);return x?Object.keys(x.data).map(function($){var I=h($);return{name:$,escapedValue:I,count:x.data[$],isRefined:S._state.isFacetRefined(O,I),isExcluded:S._state.isExcludeRefined(O,$)}}):[]}else if(S._state.isDisjunctiveFacet(O)){var F=n(S.disjunctiveFacets,w);return F?Object.keys(F.data).map(function($){var I=h($);return{name:$,escapedValue:I,count:F.data[$],isRefined:S._state.isDisjunctiveFacetRefined(O,I)}}):[]}else if(S._state.isHierarchicalFacet(O)){var E=n(S.hierarchicalFacets,w);if(!E)return E;var H=S._state.getHierarchicalFacetByName(O),U=S._state._getHierarchicalFacetSeparator(H),C=d(S._state.getHierarchicalRefinement(O)[0]||"");C.indexOf(H.rootPath)===0&&(C=C.replace(H.rootPath+U,""));var T=C.split(U);return T.unshift(O),v(E,T,0),E}}function v(S,O,w){S.isRefined=S.name===(O[w]&&O[w].trim()),S.data&&S.data.forEach(function(x){v(x,O,w+1)})}function l(S,O,w,x){if(x=x||0,Array.isArray(O))return S(O,w[x]);if(!O.data||O.data.length===0)return O;var F=O.data.map(function(U){return l(S,U,w,x+1)}),E=S(F,w[x]),H=t({data:E},O);return H}o.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function g(S,O){return O.sort(S)}function b(S,O){var w=[],x=[],F=O.hide||[],E=O.order||[],H=E.reduce(function(T,$,I){return T[$]=I,T},{});S.forEach(function(T){var $=T.path||T.name,I=F.indexOf($)>-1;!I&&H[$]!==void 0?w[H[$]]=T:I||x.push(T)}),w=w.filter(function(T){return T});var U=O.sortRemainingBy,C;return U==="hidden"?w:(U==="alpha"?C=[["path","name"],["asc","asc"]]:C=[["count"],["desc"]],w.concat(f(x,C[0],C[1])))}function P(S,O){return S.renderingContent&&S.renderingContent.facetOrdering&&S.renderingContent.facetOrdering.values&&S.renderingContent.facetOrdering.values[O]}o.prototype.getFacetValues=function(S,O){var w=m(this,S);if(w){var x=t(O,{sortBy:o.DEFAULT_SORT,facetOrdering:!(O&&O.sortBy)}),F=this,E;if(Array.isArray(w))E=[S];else{var H=F._state.getHierarchicalFacetByName(w.name);E=H.attributes}return l(function(U,C){var T=P(F,C);if(x.facetOrdering&&T)return b(U,T);if(Array.isArray(x.sortBy)){var $=a(x.sortBy,o.DEFAULT_SORT),I=f(U,$[0],$[1]),A=T&&T.hide?T.hide:[];if(A.length>0){var D=[];return I.forEach(function(Q){var q=Q.path||Q.name;A.indexOf(q)===-1&&D.push(Q)}),D}return I}else if(typeof x.sortBy=="function")return g(x.sortBy,U);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},w,E)}},o.prototype.getFacetStats=function(S){if(this._state.isConjunctiveFacet(S))return R(this.facets,S);if(this._state.isDisjunctiveFacet(S))return R(this.disjunctiveFacets,S)};function R(S,O){var w=n(S,function(x){return x.name===O});return w&&w.stats}o.prototype.getRefinements=function(){var S=this._state,O=this,w=[];return Object.keys(S.facetsRefinements).forEach(function(x){S.facetsRefinements[x].forEach(function(F){w.push(j(S,"facet",x,F,O.facets))})}),Object.keys(S.facetsExcludes).forEach(function(x){S.facetsExcludes[x].forEach(function(F){w.push(j(S,"exclude",x,F,O.facets))})}),Object.keys(S.disjunctiveFacetsRefinements).forEach(function(x){S.disjunctiveFacetsRefinements[x].forEach(function(F){w.push(j(S,"disjunctive",x,F,O.disjunctiveFacets))})}),Object.keys(S.hierarchicalFacetsRefinements).forEach(function(x){S.hierarchicalFacetsRefinements[x].forEach(function(F){w.push(_(S,x,F,O.hierarchicalFacets))})}),Object.keys(S.numericRefinements).forEach(function(x){var F=S.numericRefinements[x];Object.keys(F).forEach(function(E){F[E].forEach(function(H){w.push({type:"numeric",attributeName:x,name:H,numericValue:H,operator:E})})})}),S.tagRefinements.forEach(function(x){w.push({type:"tag",attributeName:"_tags",name:x})}),w};function j(S,O,w,x,F){var E=n(F,function(C){return C.name===w}),H=E&&E.data&&E.data[x]?E.data[x]:0,U=E&&E.exhaustive||!1;return{type:O,attributeName:w,name:x,count:H,exhaustive:U}}function _(S,O,w,x){var F=S.getHierarchicalFacetByName(O),E=S._getHierarchicalFacetSeparator(F),H=w.split(E),U=n(x,function(A){return A.name===O}),C=H.reduce(function(A,D){var Q=A&&n(A.data,function(q){return q.name===D});return Q!==void 0?Q:A},U),T=C&&C.count||0,$=C&&C.exhaustive||!1,I=C&&C.path||"";return{type:"hierarchical",attributeName:O,name:I,count:T,exhaustive:$}}return zt=o,zt}var Jt,pn;function Va(){return pn||(pn=1,Jt=function(t){return t.reduce(function(r,n){return r.concat(n)},[])}),Jt}var Gt,gn;function Ka(){if(gn)return Gt;gn=1;var e=lt(),t=Va();function r(i,a){var u=[];return Object.keys(i).forEach(function(f){i[f].count<2&&(i[f].indexSum+=100),u.push({objectID:f,avgOfIndices:i[f].indexSum/a})}),u.sort(function(f,h){return f.avgOfIndices>h.avgOfIndices?1:-1})}function n(i,a){var u={};a.forEach(function(d){d.forEach(function(p,y){i.includes(p.objectID)||(u[p.objectID]?u[p.objectID]={indexSum:u[p.objectID].indexSum+y,count:u[p.objectID].count+1}:u[p.objectID]={indexSum:y,count:1})})});var f=r(u,a.length),h=f.reduce(function(d,p){var y=e(t(a),function(c){return c.objectID===p.objectID});return y?d.concat(y):d},[]);return h}return Gt=n,Gt}var Xt,vn;function Bi(){return vn||(vn=1,Xt="3.27.0"),Xt}var Yt,yn;function za(){if(yn)return Yt;yn=1;var e=Cr(),t=Ha(),r=Nr().escapeFacetValue,n=Li(),i=Hr(),a=Dr(),u=Lr(),f=ki(),h=Wi(),d=Da(),p=Ui(),y=qi(),c=Ka(),s=Bi();function o(l,g,b,P){typeof l.addAlgoliaAgent=="function"&&l.addAlgoliaAgent("JS Helper ("+s+")"),this.setClient(l);var R=b||{};R.index=g,this.state=p.make(R),this.recommendState=new f({params:R.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=P,this._recommendCache={}}n(o,e),o.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},o.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},o.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this},o.prototype.recommend=function(){return this._recommend(),this},o.prototype.getQuery=function(){var l=this.state;return d._getHitsSearchParams(l)},o.prototype.searchOnce=function(l,g){var b=l?this.state.setQueryParameters(l):this.state,P=d._getQueries(b.index,b),R=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:b}),g){this.client.search(P).then(function(j){R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),g(null,new y(b,j.results),b)}).catch(function(j){R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),g(j,null,b)});return}return this.client.search(P).then(function(j){return R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),{content:new y(b,j.results),state:b,_originalResponse:j}},function(j){throw R._currentNbQueries--,R._currentNbQueries===0&&R.emit("searchQueueEmpty"),j})},o.prototype.findAnswers=function(l){console.warn("[algoliasearch-helper] answers is no longer supported");var g=this.state,b=this.derivedHelpers[0];if(!b)return Promise.resolve([]);var P=b.getModifiedState(g),R=i({attributesForPrediction:l.attributesForPrediction,nbHits:l.nbHits},{params:u(d._getHitsSearchParams(P),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),j="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(j);var _=this.client.initIndex(P.index);if(typeof _.findAnswers!="function")throw new Error(j);return _.findAnswers(P.query,l.queryLanguages,R)},o.prototype.searchForFacetValues=function(l,g,b,P){var R=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",j=typeof this.client.initIndex=="function";if(!R&&!j&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var _=this.state.setQueryParameters(P||{}),S=_.isDisjunctiveFacet(l),O=d.getSearchForFacetQuery(l,g,b,_);this._currentNbQueries++;var w=this,x;R?x=this.client.searchForFacetValues([{indexName:_.index,params:O}]):j?x=this.client.initIndex(_.index).searchForFacetValues(O):(delete O.facetName,x=this.client.search([{type:"facet",facet:l,indexName:_.index,params:O}]).then(function(H){return H.results[0]})),this.emit("searchForFacetValues",{state:_,facet:l,query:g});var F=this.lastResults&&this.lastResults.index===_.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[l]&&this.lastResults.renderingContent.facetOrdering.values[l].hide||[];return x.then(function(H){return w._currentNbQueries--,w._currentNbQueries===0&&w.emit("searchQueueEmpty"),H=Array.isArray(H)?H[0]:H,H.facetHits=H.facetHits.reduce(function(U,C){return F.indexOf(C.value)>-1||(C.escapedValue=r(C.value),C.isRefined=S?_.isDisjunctiveFacetRefined(l,C.escapedValue):_.isFacetRefined(l,C.escapedValue),U.push(C)),U},[]),H},function(E){throw w._currentNbQueries--,w._currentNbQueries===0&&w.emit("searchQueueEmpty"),E})},o.prototype.searchForCompositionFacetValues=function(l,g,b,P){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var R=this.state.setQueryParameters(P||{}),j=R.isDisjunctiveFacet(l);this._currentNbQueries++;var _=this,S;return S=this.client.searchForFacetValues({compositionID:R.index,facetName:l,searchForFacetValuesRequest:{params:{query:g,maxFacetHits:b,searchQuery:d._getCompositionHitsSearchParams(R)}}}),this.emit("searchForFacetValues",{state:R,facet:l,query:g}),S.then(function(w){return _._currentNbQueries--,_._currentNbQueries===0&&_.emit("searchQueueEmpty"),w=w.results[0],w.facetHits.forEach(function(x){x.escapedValue=r(x.value),x.isRefined=j?R.isDisjunctiveFacetRefined(l,x.escapedValue):R.isFacetRefined(l,x.escapedValue)}),w},function(O){throw _._currentNbQueries--,_._currentNbQueries===0&&_.emit("searchQueueEmpty"),O})},o.prototype.setQuery=function(l){return this._change({state:this.state.resetPage().setQuery(l),isPageReset:!0}),this},o.prototype.clearRefinements=function(l){return this._change({state:this.state.resetPage().clearRefinements(l),isPageReset:!0}),this},o.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},o.prototype.addDisjunctiveFacetRefinement=function(l,g){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(l,g),isPageReset:!0}),this},o.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},o.prototype.addHierarchicalFacetRefinement=function(l,g){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(l,g),isPageReset:!0}),this},o.prototype.addNumericRefinement=function(l,g,b){return this._change({state:this.state.resetPage().addNumericRefinement(l,g,b),isPageReset:!0}),this},o.prototype.addFacetRefinement=function(l,g){return this._change({state:this.state.resetPage().addFacetRefinement(l,g),isPageReset:!0}),this},o.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},o.prototype.addFacetExclusion=function(l,g){return this._change({state:this.state.resetPage().addExcludeRefinement(l,g),isPageReset:!0}),this},o.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},o.prototype.addTag=function(l){return this._change({state:this.state.resetPage().addTagRefinement(l),isPageReset:!0}),this},o.prototype.addFrequentlyBoughtTogether=function(l){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(l)}),this},o.prototype.addRelatedProducts=function(l){return this._recommendChange({state:this.recommendState.addRelatedProducts(l)}),this},o.prototype.addTrendingItems=function(l){return this._recommendChange({state:this.recommendState.addTrendingItems(l)}),this},o.prototype.addTrendingFacets=function(l){return this._recommendChange({state:this.recommendState.addTrendingFacets(l)}),this},o.prototype.addLookingSimilar=function(l){return this._recommendChange({state:this.recommendState.addLookingSimilar(l)}),this},o.prototype.removeNumericRefinement=function(l,g,b){return this._change({state:this.state.resetPage().removeNumericRefinement(l,g,b),isPageReset:!0}),this},o.prototype.removeDisjunctiveFacetRefinement=function(l,g){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(l,g),isPageReset:!0}),this},o.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},o.prototype.removeHierarchicalFacetRefinement=function(l){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(l),isPageReset:!0}),this},o.prototype.removeFacetRefinement=function(l,g){return this._change({state:this.state.resetPage().removeFacetRefinement(l,g),isPageReset:!0}),this},o.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},o.prototype.removeFacetExclusion=function(l,g){return this._change({state:this.state.resetPage().removeExcludeRefinement(l,g),isPageReset:!0}),this},o.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},o.prototype.removeTag=function(l){return this._change({state:this.state.resetPage().removeTagRefinement(l),isPageReset:!0}),this},o.prototype.removeFrequentlyBoughtTogether=function(l){return this._recommendChange({state:this.recommendState.removeParams(l)}),this},o.prototype.removeRelatedProducts=function(l){return this._recommendChange({state:this.recommendState.removeParams(l)}),this},o.prototype.removeTrendingItems=function(l){return this._recommendChange({state:this.recommendState.removeParams(l)}),this},o.prototype.removeTrendingFacets=function(l){return this._recommendChange({state:this.recommendState.removeParams(l)}),this},o.prototype.removeLookingSimilar=function(l){return this._recommendChange({state:this.recommendState.removeParams(l)}),this},o.prototype.toggleFacetExclusion=function(l,g){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(l,g),isPageReset:!0}),this},o.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},o.prototype.toggleRefinement=function(l,g){return this.toggleFacetRefinement(l,g)},o.prototype.toggleFacetRefinement=function(l,g){return this._change({state:this.state.resetPage().toggleFacetRefinement(l,g),isPageReset:!0}),this},o.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},o.prototype.toggleTag=function(l){return this._change({state:this.state.resetPage().toggleTagRefinement(l),isPageReset:!0}),this},o.prototype.nextPage=function(){var l=this.state.page||0;return this.setPage(l+1)},o.prototype.previousPage=function(){var l=this.state.page||0;return this.setPage(l-1)};function m(l){if(l<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(l),isPageReset:!1}),this}o.prototype.setCurrentPage=m,o.prototype.setPage=m,o.prototype.setIndex=function(l){return this._change({state:this.state.resetPage().setIndex(l),isPageReset:!0}),this},o.prototype.setQueryParameter=function(l,g){return this._change({state:this.state.resetPage().setQueryParameter(l,g),isPageReset:!0}),this},o.prototype.setState=function(l){return this._change({state:p.make(l),isPageReset:!1}),this},o.prototype.overrideStateWithoutTriggeringChangeEvent=function(l){return this.state=new p(l),this},o.prototype.hasRefinements=function(l){return a(this.state.getNumericRefinements(l))?!0:this.state.isConjunctiveFacet(l)?this.state.isFacetRefined(l):this.state.isDisjunctiveFacet(l)?this.state.isDisjunctiveFacetRefined(l):this.state.isHierarchicalFacet(l)?this.state.isHierarchicalFacetRefined(l):!1},o.prototype.isExcluded=function(l,g){return this.state.isExcludeRefined(l,g)},o.prototype.isDisjunctiveRefined=function(l,g){return this.state.isDisjunctiveFacetRefined(l,g)},o.prototype.hasTag=function(l){return this.state.isTagRefined(l)},o.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},o.prototype.getIndex=function(){return this.state.index};function v(){return this.state.page}return o.prototype.getCurrentPage=v,o.prototype.getPage=v,o.prototype.getTags=function(){return this.state.tagRefinements},o.prototype.getRefinements=function(l){var g=[];if(this.state.isConjunctiveFacet(l)){var b=this.state.getConjunctiveRefinements(l);b.forEach(function(_){g.push({value:_,type:"conjunctive"})});var P=this.state.getExcludeRefinements(l);P.forEach(function(_){g.push({value:_,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(l)){var R=this.state.getDisjunctiveRefinements(l);R.forEach(function(_){g.push({value:_,type:"disjunctive"})})}var j=this.state.getNumericRefinements(l);return Object.keys(j).forEach(function(_){var S=j[_];g.push({value:S,operator:_,type:"numeric"})}),g},o.prototype.getNumericRefinement=function(l,g){return this.state.getNumericRefinement(l,g)},o.prototype.getHierarchicalFacetBreadcrumb=function(l){return this.state.getHierarchicalFacetBreadcrumb(l)},o.prototype._search=function(l){var g=this.state,b=[],P=[];l.onlyWithDerivedHelpers||(P=d._getQueries(g.index,g),b.push({state:g,queriesCount:P.length,helper:this}),this.emit("search",{state:g,results:this.lastResults}));var R=this.derivedHelpers.map(function(S){var O=S.getModifiedState(g),w=O.index?d._getQueries(O.index,O):[];return b.push({state:O,queriesCount:w.length,helper:S}),S.emit("search",{state:O,results:S.lastResults}),w}),j=Array.prototype.concat.apply(P,R),_=this._queryId++;if(this._currentNbQueries++,!j.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,b,_));try{this.client.search(j).then(this._dispatchAlgoliaResponse.bind(this,b,_)).catch(this._dispatchAlgoliaError.bind(this,_))}catch(S){this.emit("error",{error:S})}},o.prototype._runComposition=function(){var l=this.state,g=[],b=[],P=this.derivedHelpers.map(function(S){var O=S.getModifiedState(l),w=d._getCompositionQueries(O);return g.push({state:O,queriesCount:w.length,helper:S}),S.emit("search",{state:O,results:S.lastResults}),w}),R=Array.prototype.concat.apply(b,P),j=this._queryId++;if(this._currentNbQueries++,!R.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,g,j));if(R.length>1)throw new Error("Only one query is allowed when using a composition.");var _=R[0];try{this.client.search(_).then(this._dispatchAlgoliaResponse.bind(this,g,j)).catch(this._dispatchAlgoliaError.bind(this,j))}catch(S){this.emit("error",{error:S})}},o.prototype._recommend=function(){var l=this.state,g=this.recommendState,b=this.getIndex(),P=[{state:g,index:b,helper:this}],R=g.params.map(function(w){return w.$$id});this.emit("fetch",{recommend:{state:g,results:this.lastRecommendResults}});var j=this._recommendCache,_=this.derivedHelpers.map(function(w){var x=w.getModifiedState(l).index;if(!x)return[];var F=w.getModifiedRecommendState(new f);return P.push({state:F,index:x,helper:w}),R=Array.prototype.concat.apply(R,F.params.map(function(E){return E.$$id})),w.emit("fetch",{recommend:{state:F,results:w.lastRecommendResults}}),F._buildQueries(x,j)}),S=Array.prototype.concat.apply(this.recommendState._buildQueries(b,j),_);if(S.length!==0){if(S.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var O=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(S).then(this._dispatchRecommendResponse.bind(this,O,P,R)).catch(this._dispatchRecommendError.bind(this,O))}catch(w){this.emit("error",{error:w})}}},o.prototype._dispatchAlgoliaResponse=function(l,g,b){var P=this;if(!(g<this._lastQueryIdReceived)){this._currentNbQueries-=g-this._lastQueryIdReceived,this._lastQueryIdReceived=g,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var R=b.results.slice(),j=Object.keys(b).reduce(function(_,S){return S!=="results"&&(_[S]=b[S]),_},{});Object.keys(j).length<=0&&(j=void 0),l.forEach(function(_){var S=_.state,O=_.queriesCount,w=_.helper,x=R.splice(0,O);if(!S.index){w.emit("result",{results:null,state:S});return}w.lastResults=new y(S,x,P._searchResultsOptions),j!==void 0&&(w.lastResults._rawContent=j),w.emit("result",{results:w.lastResults,state:S})})}},o.prototype._dispatchRecommendResponse=function(l,g,b,P){if(!(l<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=l-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=l,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var R=this._recommendCache,j={};b.filter(function(S){return R[S]===void 0}).forEach(function(S,O){j[S]||(j[S]=[]),j[S].push(O)}),Object.keys(j).forEach(function(S){var O=j[S],w=P.results[O[0]];if(O.length===1){R[S]=w;return}R[S]=Object.assign({},w,{hits:c(b,O.map(function(x){return P.results[x].hits}))})});var _={};b.forEach(function(S){_[S]=R[S]}),g.forEach(function(S){var O=S.state,w=S.helper;if(!S.index){w.emit("recommend:result",{results:null,state:O});return}w.lastRecommendResults=new h(O,_),w.emit("recommend:result",{recommend:{results:w.lastRecommendResults,state:O}})})}},o.prototype._dispatchAlgoliaError=function(l,g){l<this._lastQueryIdReceived||(this._currentNbQueries-=l-this._lastQueryIdReceived,this._lastQueryIdReceived=l,this.emit("error",{error:g}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))},o.prototype._dispatchRecommendError=function(l,g){l<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=l-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=l,this.emit("error",{error:g}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))},o.prototype.containsRefinement=function(l,g,b,P){return l||g.length!==0||b.length!==0||P.length!==0},o.prototype._hasDisjunctiveRefinements=function(l){return this.state.disjunctiveRefinements[l]&&this.state.disjunctiveRefinements[l].length>0},o.prototype._change=function(l){var g=l.state,b=l.isPageReset;g!==this.state&&(this.state=g,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:b}))},o.prototype._recommendChange=function(l){var g=l.state;g!==this.recommendState&&(this.recommendState=g,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},o.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},o.prototype.setClient=function(l){return this.client===l?this:(typeof l.addAlgoliaAgent=="function"&&l.addAlgoliaAgent("JS Helper ("+s+")"),this.client=l,this)},o.prototype.getClient=function(){return this.client},o.prototype.derive=function(l,g){var b=new t(this,l,g);return this.derivedHelpers.push(b),b},o.prototype.detachDerivedHelper=function(l){var g=this.derivedHelpers.indexOf(l);if(g===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(g,1)},o.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},Yt=o,Yt}var Zt,bn;function Ja(){if(bn)return Zt;bn=1;var e=za(),t=ki(),r=Wi(),n=Ui(),i=qi();function a(u,f,h,d){return new e(u,f,h,d)}return a.version=Bi(),a.AlgoliaSearchHelper=e,a.SearchParameters=n,a.RecommendParameters=t,a.SearchResults=i,a.RecommendResults=r,Zt=a,Zt}var Ga=Ja();const re=Ar(Ga);var Xa=0;function Ya(e){e.dependsOn==="recommend"&&(e.$$id=Xa++)}function Y(){}function Za(e){return Object.prototype.toString.call(e).slice(8,-1)}function _e(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(Za(e),`).

`).concat(t))}function Sn(e){var t=e.helper,r=e.attributesToClear,n=r===void 0?[]:r,i=t.state.setPage(0);return i=n.reduce(function(a,u){return i.isNumericRefined(u)?a.removeNumericRefinement(u):i.isHierarchicalFacet(u)?a.removeHierarchicalFacetRefinement(u):i.isDisjunctiveFacet(u)?a.removeDisjunctiveFacetRefinement(u):i.isConjunctiveFacet(u)?a.removeFacetRefinement(u):a},i),n.indexOf("query")!==-1&&(i=i.setQuery("")),i}var es={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vi=/[&<>"']/g,ts=RegExp(Vi.source);function rs(e){return e&&ts.test(e)?e.replace(Vi,function(t){return es[t]}):e}var ns={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ki=/&(amp|quot|lt|gt|#39);/g,is=RegExp(Ki.source);function zi(e){return e&&is.test(e)?e.replace(Ki,function(t){return ns[t]}):e}function pr(e){"@babel/helpers - typeof";return pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pr(e)}function as(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function ss(e){return pr(e)==="object"&&e!==null}function os(e){if(!ss(e)||as(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function He(e){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(e)}function us(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function gr(){return gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gr.apply(null,arguments)}function Rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rn(Object(r),!0).forEach(function(n){Ji(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ji(e,t,r){return(t=cs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cs(e){var t=ls(e,"string");return He(t)=="symbol"?t:t+""}function ls(e,t){if(He(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(He(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Re={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Z={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Gi(e){return rs(e).replace(new RegExp(Re.highlightPreTag,"g"),Z.highlightPreTag).replace(new RegExp(Re.highlightPostTag,"g"),Z.highlightPostTag)}function vt(e){return os(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,r){return be(be({},t),{},Ji({},r,vt(e[r])))},{}):Array.isArray(e)?e.map(vt):be(be({},e),{},{value:Gi(e.value)})}function fs(e){return e.__escaped===void 0&&(e=e.map(function(t){var r=gr({},(us(t),t));return r._highlightResult&&(r._highlightResult=vt(r._highlightResult)),r._snippetResult&&(r._snippetResult=vt(r._snippetResult)),r}),e.__escaped=!0),e}function hs(e){return e.map(function(t){return be(be({},t),{},{highlighted:Gi(t.highlighted)})})}function Xi(e){var t=Z.highlightPreTag,r=Z.highlightPostTag;return e.map(function(n){return n.isHighlighted?t+n.value+r:n.value}).join("")}function ds(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}function Pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pn(Object(r),!0).forEach(function(n){ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ps(e,t,r){return(t=gs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gs(e){var t=vs(e,"string");return Pe(t)=="symbol"?t:t+""}function vs(e,t){if(Pe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pe(e){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(e)}function ys(e,t){return Ps(e)||Rs(e,t)||Ss(e,t)||bs()}function bs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ss(e,t){if(e){if(typeof e=="string")return On(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?On(e,t):void 0}}function On(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Rs(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function Ps(e){if(Array.isArray(e))return e}function Os(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType,a=function(){for(var f=arguments.length,h=new Array(f),d=0;d<f;d++)h[d]=arguments[d];var p=h[1],y=h[2],c=y===void 0?"Filter Applied":y,s=h[3],o=s===void 0?{}:s,m=h[0].split(":"),v=ys(m,2),l=v[0],g=v[1],b=typeof n=="string"?n:n(p);if(h.length===1&&Pe(h[0])==="object")t.sendEventToInsights(h[0]);else if(l==="click"&&h.length>=2&&h.length<=4&&!ds(r,b,p)){var P;t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:l,eventModifier:g,payload:ms({eventName:c,index:((P=r.lastResults)===null||P===void 0?void 0:P.index)||r.state.index,filters:["".concat(b,":").concat(p)]},o),attribute:b})}};return a}function Yi(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jn(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function js(e,t,r){return(t=ws(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ws(e){var t=_s(e,"string");return Oe(t)=="symbol"?t:t+""}function _s(e,t){if(Oe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(e,t){return Is(e)||$s(e,t)||Es(e,t)||Fs()}function Fs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Es(e,t){if(e){if(typeof e=="string")return wn(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wn(e,t):void 0}}function wn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $s(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function Is(e){if(Array.isArray(e))return e}function Oe(e){"@babel/helpers - typeof";return Oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(e)}function Ts(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}function Zi(e){var t=e.helper,r=e.widgetType;e.methodName;var n=e.args,i=e.instantSearchInstance;if(n.length===1&&Oe(n[0])==="object")return[n[0]];var a=n[0].split(":"),u=xs(a,2),f=u[0],h=u[1],d=n[1],p=n[2],y=n[3]||{};if(!d)return[];if((f==="click"||f==="conversion")&&!p)return[];var c=Array.isArray(d)?d:[d];if(c.length===0)return[];var s=c[0].__queryID,o=Ts(c),m=o.map(function(l){return l.map(function(g){return g.objectID})}),v=o.map(function(l){return l.map(function(g){return g.__position})});return f==="view"?i.status!=="idle"?[]:o.map(function(l,g){var b;return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:f,payload:er({eventName:p||"Hits Viewed",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,objectIDs:m[g]},y),hits:l,eventModifier:h}}):f==="click"?o.map(function(l,g){var b;return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:f,payload:er({eventName:p||"Hit Clicked",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:s,objectIDs:m[g],positions:v[g]},y),hits:l,eventModifier:h}}):f==="conversion"?o.map(function(l,g){var b;return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:f,payload:er({eventName:p||"Hit Converted",index:((b=t.lastResults)===null||b===void 0?void 0:b.index)||t.state.index,queryID:s,objectIDs:m[g]},y),hits:l,eventModifier:h}}):[]}function As(e){var t=e.instantSearchInstance,r=e.helper,n=e.widgetType,i={},a=void 0,u=function(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];var y=Zi({widgetType:n,helper:r,methodName:"sendEvent",args:d,instantSearchInstance:t});y.forEach(function(c){c.eventType==="click"&&c.eventModifier==="internal"&&i[c.eventType]||(i[c.eventType]=!0,t.sendEventToInsights(c))}),clearTimeout(a),a=setTimeout(function(){i={}},0)};return u}function Cs(e){var t=e.helper,r=e.widgetType,n=e.instantSearchInstance,i=function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];var d=Zi({widgetType:r,helper:t,methodName:"bindEvent",args:f,instantSearchInstance:n});return d.length?"data-insights-event=".concat(Yi(d)):""};return i}function ne(e){return e.$$type==="ais.index"}function vr(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(ne).forEach(function(n){return vr(e,n)})}var Ns=Promise.resolve();function ye(e){var t=null,r=!1,n=function(){for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];t===null&&(t=Ns.then(function(){if(t=null,r){r=!1;return}e.apply(void 0,u)}))};return n.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){t!==null&&(r=!0)},n}function Hs(e){var t=e.name,r=e.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",n?"#connector":""].join("")}function pe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(i){return Hs(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function Ds(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function Ls(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function De(e,t){for(var r,n=0;n<e.length;n++)if(r=e[n],t(r,n,e))return r}function ks(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ws(e){var t=e;return t.transporter&&t.transporter.userAgent?t.transporter.userAgent.value:t._ua}function _n(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,r=t.headers||t.baseHeaders,n=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",u=r[i]||n[i],f=r[a]||n[a];return[u,f]}else return[e.applicationID,e.apiKey]}function Wr(e){var t=Z.highlightPostTag,r=Z.highlightPreTag,n=e.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(u){var f=u.split(t);a.push({value:f[0],isHighlighted:!0}),f[1]!==""&&a.push({value:f[1],isHighlighted:!1})}),a}var Us=new RegExp(/\w/i);function Ms(e,t){var r,n,i=e[t],a=((r=e[t+1])===null||r===void 0?void 0:r.isHighlighted)||!0,u=((n=e[t-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Us.test(zi(i.value))&&u===a?u:i.isHighlighted}function Pt(e,t){var r=Array.isArray(t)?t:t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}function tr(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a={type:t,attribute:r,name:n,escapedValue:Ls(n)},u=De(i,function(s){return s.name===r}),f;if(t==="hierarchical"){for(var h=e.getHierarchicalFacetByName(r),d=n.split(h.separator),p=function(o){return function(m){return o[m]}},y=function(o){u=u&&u.data&&De(Object.keys(u.data).map(p(u.data)),function(m){return m.name===d[o]})},c=0;u!==void 0&&c<d.length;++c)y(c);f=u&&u.count}else f=u&&u.data&&u.data[a.name];return f!==void 0&&(a.count=f),u&&u.exhaustive!==void 0&&(a.exhaustive=u.exhaustive),a}function Qs(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=e||{},i=[],a=t.facetsRefinements,u=a===void 0?{}:a,f=t.facetsExcludes,h=f===void 0?{}:f,d=t.disjunctiveFacetsRefinements,p=d===void 0?{}:d,y=t.hierarchicalFacetsRefinements,c=y===void 0?{}:y,s=t.numericRefinements,o=s===void 0?{}:s,m=t.tagRefinements,v=m===void 0?[]:m;return Object.keys(u).forEach(function(l){var g=u[l];g.forEach(function(b){i.push(tr(t,"facet",l,b,n.facets))})}),Object.keys(h).forEach(function(l){var g=h[l];g.forEach(function(b){i.push({type:"exclude",attribute:l,name:b,exclude:!0})})}),Object.keys(p).forEach(function(l){var g=p[l];g.forEach(function(b){i.push(tr(t,"disjunctive",l,Ds(b),n.disjunctiveFacets))})}),Object.keys(c).forEach(function(l){var g=c[l];g.forEach(function(b){i.push(tr(t,"hierarchical",l,b,n.hierarchicalFacets))})}),Object.keys(o).forEach(function(l){var g=o[l];Object.keys(g).forEach(function(b){var P=b,R=g[P],j=Array.isArray(R)?R:[R];j.forEach(function(_){i.push({type:"numeric",attribute:l,name:"".concat(_),numericValue:_,operator:P})})})}),v.forEach(function(l){i.push({type:"tag",attribute:"_tags",name:l})}),r&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function Le(e){"@babel/helpers - typeof";return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(e)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xn(Object(r),!0).forEach(function(n){qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qs(e,t,r){return(t=Bs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bs(e){var t=Vs(e,"string");return Le(t)=="symbol"?t:t+""}function Vs(e,t){if(Le(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Le(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ks(e,t,r){return e.map(function(n,i){return Fn(Fn({},n),{},{__position:r*t+i+1})})}function ke(e){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(e)}function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?En(Object(r),!0).forEach(function(n){zs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zs(e,t,r){return(t=Js(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Js(e){var t=Gs(e,"string");return ke(t)=="symbol"?t:t+""}function Gs(e,t){if(ke(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ke(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xs(e,t){return t?e.map(function(r){return $n($n({},r),{},{__queryID:t})}):e}function We(e){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(e)}function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?In(Object(r),!0).forEach(function(n){Ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ys(e,t,r){return(t=Zs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zs(e){var t=eo(e,"string");return We(t)=="symbol"?t:t+""}function eo(e,t){if(We(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(We(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function to(e,t){var r=Object.keys(t).reduce(function(n,i){var a=t[i];return a.recommendResults?Tn(Tn({},n),a.recommendResults.results):n},{});e._recommendCache=r}function Ue(e){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(e)}function ro(e,t){return so(e)||ao(e,t)||io(e,t)||no()}function no(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function io(e,t){if(e){if(typeof e=="string")return An(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?An(e,t):void 0}}function An(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ao(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function so(e){if(Array.isArray(e))return e}function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cn(Object(r),!0).forEach(function(n){ea(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ea(e,t,r){return(t=oo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oo(e){var t=uo(e,"string");return Ue(t)=="symbol"?t:t+""}function uo(e,t){if(Ue(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ue(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function co(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var r=[Object.keys(t).reduce(function(u,f){var h=t[f],d=h.state,p=h.requestParams,y=h.results,c=y&&d?y.map(function(s,o){return Fe({indexName:d.index||s.index},p!=null&&p[o]||s.params?{params:rr(p?.[o]||lo(s.params))}:{})}):[];return u.concat(c)},[])],n=Object.keys(t).reduce(function(u,f){var h=t[f].results;return h?u.concat(h):u},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(u){for(var f=arguments.length,h=new Array(f>1?f-1:0),d=1;d<f;d++)h[d-1]=arguments[d];var p=Array.isArray(u)?u.map(function(y){return Fe(Fe({},y),{},{params:rr(y.params)})}):rr(u.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[p].concat(h)},function(){return i.apply(void 0,[u].concat(h))})},e.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in e)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));e.cache=Fe(Fe({},e.cache),{},ea({},a,JSON.stringify({results:Object.keys(t).map(function(u){return t[u].results})})))}}}function lo(e){return e.split("&").reduce(function(t,r){var n=r.split("="),i=ro(n,2),a=i[0],u=i[1];return t[a]=u?decodeURIComponent(u):"",t},{})}function rr(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,u=new Array(a>1?a-1:0),f=1;f<a;f++)u[f-1]=arguments[f];var h=0;return i.replace(/%s/g,function(){return encodeURIComponent(u[h++])})};return Object.keys(e).map(function(n){return r("%s=%s",n,t(e[n])?JSON.stringify(e[n]):e[n])}).join("&")}function Nn(e){return e!==Object(e)}function ta(e,t){if(e===t)return!0;if(Nn(e)||Nn(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t)||!ta(e[i],t[i]))return!1}return!0}function ra(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function Me(e){"@babel/helpers - typeof";return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(e)}var fo=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hn(Object(r),!0).forEach(function(n){ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ho(e,t,r){return(t=mo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mo(e){var t=po(e,"string");return Me(t)=="symbol"?t:t+""}function po(e,t){if(Me(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Me(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function go(e,t){if(e==null)return{};var r,n,i=vo(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vo(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yo=function(t,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=go(r,fo);return t.setQueryParameters(n)},bo=function(t,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},t)},So=function(t,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},t)},Ro=function(t,r){return t.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=ks(n,function(f){return f.name===i.name});if(a===-1)return n.concat(i);var u=n.slice();return u.splice(a,1,i),u},t.hierarchicalFacets)})},Po=function(t,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},t)},Oo=function(t,r){return t.setQueryParameters({facetsRefinements:oe(oe({},t.facetsRefinements),r.facetsRefinements)})},jo=function(t,r){return t.setQueryParameters({facetsExcludes:oe(oe({},t.facetsExcludes),r.facetsExcludes)})},wo=function(t,r){return t.setQueryParameters({disjunctiveFacetsRefinements:oe(oe({},t.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},_o=function(t,r){return t.setQueryParameters({numericRefinements:oe(oe({},t.numericRefinements),r.numericRefinements)})},xo=function(t,r){return t.setQueryParameters({hierarchicalFacetsRefinements:oe(oe({},t.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},Fo=function(t,r){var n=ra([].concat(t.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},na=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(i,a){var u=xo(i,a),f=Ro(u,a),h=Po(f,a),d=_o(h,a),p=wo(d,a),y=jo(p,a),c=Oo(y,a),s=So(c,a),o=Fo(s,a),m=bo(o,a);return yo(m,a)})};function Eo(e){return Ao(e)||To(e)||Io(e)||$o()}function $o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Io(e,t){if(e){if(typeof e=="string")return yr(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yr(e,t):void 0}}function To(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ao(e){if(Array.isArray(e))return yr(e)}function yr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Dn(e){var t=e.start,r=t===void 0?0:t,n=e.end,i=e.step,a=i===void 0?1:i,u=a===0?1:a,f=Math.round((n-r)/u);return Eo(Array(f)).map(function(h,d){return r+d*u})}function Ce(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function Ln(e,t,r){var n=t.getResultsForWidget(r),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:n,scopedResults:t.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function Co(e){for(var t=e.getParent(),r=[e.getHelper().state];t!==null;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}function Qe(e){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(e)}function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kn(Object(r),!0).forEach(function(n){No(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function No(e,t,r){return(t=Ho(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ho(e){var t=Do(e,"string");return Qe(t)=="symbol"?t:t+""}function Do(e,t){if(Qe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,r){return dt(dt({},t),{},{isHighlighted:!Ms(e,r)})}):e.map(function(t){return dt(dt({},t),{},{isHighlighted:!1})})}function me(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=t.fallback;return typeof window>"u"?r():e({window})}function br(e){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(e)}var Wn=Object.prototype.hasOwnProperty;function je(e,t,r){if(r!=null&&r(e,t))return!0;var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&je(e[i],t[i],r););return i===-1}if(!n||br(e)==="object"){i=0;for(n in e)if(Wn.call(e,n)&&++i&&!Wn.call(t,n)||!(n in t)||!je(e[n],t[n],r))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function Un(e){var t,r,n;return new re.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(r=e.page)!==null&&r!==void 0?r:0,hitsPerPage:(n=e.hitsPerPage)!==null&&n!==void 0?n:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function qe(e){"@babel/helpers - typeof";return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(e)}function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mn(Object(r),!0).forEach(function(n){Lo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lo(e,t,r){return(t=ko(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ko(e){var t=Wo(e,"string");return qe(t)=="symbol"?t:t+""}function Wo(e,t){if(qe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sr(e){var t=e.getHelper(),r=e.getResults()||Un(t.state),n=e.getScopedResults().map(function(i){var a=i.indexId===e.getIndexId()?r:Un(i.helper.state);return Qn(Qn({},i),{},{results:i.results||a})});return{results:r,scopedResults:n,recommendResults:t.lastRecommendResults}}var aa=W.createContext(null);function sa(e,t){if(!e)throw new Error("Invariant failed")}function Ur(){var e=W.useContext(aa);return sa(e!==null),e}var oa=W.createContext(null);function ft(){var e=W.useContext(oa);return sa(e!==null),e}var Uo=W.createContext(null);function ua(){return W.useContext(Uo)}var Mo=W.createContext(null);function ca(){return W.useContext(Mo)}function Qo(e,t){return Ko(e)||Vo(e,t)||Bo(e,t)||qo()}function qo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bo(e,t){if(e){if(typeof e=="string")return qn(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qn(e,t):void 0}}function qn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Vo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function Ko(e){if(Array.isArray(e))return e}function Bn(e){var t=W.useState(function(){return e}),r=Qo(t,2),n=r[0],i=r[1];return je(n,e)||i(e),n}var zo="use",Vn=Ca[zo],la=typeof window<"u"?W.useLayoutEffect:W.useEffect,Jo=W.createContext({countRef:{current:0},waitForResultsRef:null,ignoreMultipleHooksWarning:!1});function fa(){return W.useContext(Jo)}function Go(e){var t,r,n=e.widget,i=e.parentIndex,a=e.props,u=e.shouldSsr,f=e.skipSuspense,h=fa(),d=h.waitForResultsRef,p=h.countRef;h.ignoreMultipleHooksWarning;var y=W.useRef(a);W.useEffect(function(){y.current=a},[a]);var c=W.useRef(n);W.useEffect(function(){c.current=n},[n]);var s=W.useRef(null),o=u&&!i.getWidgets().includes(n),m=ft();if(la(function(){var l=c.current;if(!s.current)u||i.addWidgets([n]);else{clearTimeout(s.current);var g=je(a,y.current);g||(i.removeWidgets([l]),i.addWidgets([n]))}return function(){s.current=setTimeout(function(){m._schedule(function(){m._preventWidgetCleanup||i.removeWidgets([l])})})}},[i,n,u,m,a]),(o||(d==null||(t=d.current)===null||t===void 0?void 0:t.status)==="pending")&&i.addWidgets([n]),d!=null&&d.current&&!f){var v;Vn(d.current),n.$$type!=="ais.dynamicWidgets"&&(v=m.helper)!==null&&v!==void 0&&v.lastResults&&Vn(d.current)}(d==null||(r=d.current)===null||r===void 0?void 0:r.status)==="fulfilled"&&(p.current+=1)}function Be(e){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(e)}var Xo=["skipSuspense"],Yo=["instantSearchInstance","widgetParams"],Zo=["widgetParams"];function eu(e,t){return iu(e)||nu(e,t)||ru(e,t)||tu()}function tu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ru(e,t){if(e){if(typeof e=="string")return Kn(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kn(e,t):void 0}}function Kn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nu(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function iu(e){if(Array.isArray(e))return e}function zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zn(Object(r),!0).forEach(function(n){au(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function au(e,t,r){return(t=su(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function su(e){var t=ou(e,"string");return Be(t)=="symbol"?t:t+""}function ou(e,t){if(Be(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Be(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t){if(e==null)return{};var r,n,i=uu(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uu(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.skipSuspense,i=n===void 0?!1:n,a=nr(r,Xo),u=ua(),f=ca(),h=ft(),d=Ur(),p=Bn(t),y=Bn(a),c=W.useRef(!0),s=W.useRef(null),o=W.useRef(h.status),m=W.useMemo(function(){var P=e(function(R,j){if(j){c.current=!0;return}if(c.current){var _=R.instantSearchInstance;R.widgetParams;var S=nr(R,Yo);(!je(S,s.current,function(O,w){return O?.constructor===Function&&w?.constructor===Function})||_.status!==o.current)&&(b(S),s.current=S,o.current=_.status)}},function(){c.current=!1});return Jn(Jn({},P(p)),y)},[e,p,y]),v=W.useState(function(){if(m.getWidgetRenderState){var P,R=d.getHelper(),j=d.getWidgetUiState({})[d.getIndexId()];R.state=((P=m.getWidgetSearchParameters)===null||P===void 0?void 0:P.call(m,R.state,{uiState:j}))||R.state;var _=Sr(d),S=_.results,O=_.scopedResults,w=_.recommendResults,x=m.getWidgetRenderState({helper:R,parent:d,instantSearchInstance:h,results:m.dependsOn==="recommend"&&w&&f?w[f.recommendIdx.current++]:S,scopedResults:O,state:R.state,renderState:h.renderState,templatesConfig:h.templatesConfig,createURL:d.createURL,searchMetadata:{isSearchStalled:h.status==="stalled"},status:h.status,error:h.error});x.widgetParams;var F=nr(x,Zo);return F}return{}}),l=eu(v,2),g=l[0],b=l[1];return Go({widget:m,parentIndex:d,props:p,shouldSsr:!!u,skipSuspense:i}),g}function Ve(e){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(e)}var cu=["initialSearchParameters"],lu=["initialRecommendParameters"];function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gn(Object(r),!0).forEach(function(n){Se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Se(e,t,r){return(t=fu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fu(e){var t=hu(e,"string");return Ve(t)=="symbol"?t:t+""}function hu(e,t){if(Ve(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ve(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ha(e){return gu(e)||pu(e)||mu(e)||du()}function du(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mu(e,t){if(e){if(typeof e=="string")return Rr(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rr(e,t):void 0}}function pu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gu(e){if(Array.isArray(e))return Rr(e)}function Rr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function da(e,t){if(e==null)return{};var r,n,i=vu(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vu(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ee=pe({name:"index-widget"});function ma(e,t){var r=t.state,n=t.recommendState,i=t.isPageReset,a=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:a})),n!==e.recommendState&&(e.recommendState=n)}function $e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(n,i){return ne(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,t):i.getWidgetState(n,t)},r)}function Ie(e,t){var r=t.initialSearchParameters,n=da(t,cu);return e.reduce(function(i,a){return!a.getWidgetSearchParameters||ne(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function Xn(e,t){var r=t.initialRecommendParameters,n=da(t,lu);return e.reduce(function(i,a){return!ne(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function pa(e){var t=e.filter(ne);t.length!==0&&t.forEach(function(r){var n=r.getHelper();ma(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),pa(r.getWidgets())})}function ga(e){var t=e.filter(ne);return t.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(ha(ga(n.getWidgets()))))},[])}var yu=function(t){if(t===void 0||t.indexName===void 0&&!t.EXPERIMENTAL_isolated)throw new Error(Ee("The `indexName` option is required."));var r=t.indexName,n=r===void 0?"":r,i=t.indexId,a=i===void 0?n:i,u=t.EXPERIMENTAL_isolated,f=u===void 0?!1:u,h=[],d={},p=null,y=null,c=null,s=null,o=null,m=!1,v=!1;return{$$type:"ais.index",$$widgetType:"ais.index",_isolated:f,getIndexName:function(){return n},getIndexId:function(){return a},getHelper:function(){return c},getResults:function(){var g;return(g=s)!==null&&g!==void 0&&g.lastResults?(s.lastResults._state=c.state,s.lastResults):null},getResultsForWidget:function(g){var b;return g.dependsOn!=="recommend"||ne(g)||g.$$id===void 0?this.getResults():(b=c)!==null&&b!==void 0&&b.lastRecommendResults?c.lastRecommendResults[g.$$id]:null},getPreviousState:function(){return o},getScopedResults:function(){var g=this.getParent(),b;return g?b=g.getWidgets():n.length===0?b=this.getWidgets():b=[this],ga(b)},getParent:function(){return f?null:y},createURL:function(g){return typeof g=="function"?p._createURL(Se({},a,g(d))):p._createURL(Se({},a,$e(h,{searchParameters:g,helper:c})))},scheduleLocalSearch:ye(function(){if(f){var l;(l=c)===null||l===void 0||l.search()}}),getWidgets:function(){return h},addWidgets:function(g){var b=this;if(!Array.isArray(g))throw new Error(Ee("The `addWidgets` method expects an array of widgets."));var P=g.reduce(function(R,j){return R.concat(Array.isArray(j)?j:[j])},[]);if(P.some(function(R){return typeof R.init!="function"&&typeof R.render!="function"}))throw new Error(Ee("The widget definition expects a `render` and/or an `init` method."));return P.forEach(function(R){R.parent=b,!ne(R)&&(p&&R.dependsOn==="recommend"?p._hasRecommendWidget=!0:p?p._hasSearchWidget=!0:R.dependsOn==="recommend"?m=!0:v=!0,Ya(R))}),h=h.concat(P),p&&P.length&&(ma(c,{state:Ie(h,{uiState:d,initialSearchParameters:c.state}),recommendState:Xn(h,{uiState:d,initialRecommendParameters:c.recommendState}),_uiState:d}),P.forEach(function(R){if(R.getRenderState){var j=R.getRenderState(p.renderState[b.getIndexId()]||{},Ce(p,b,p._initialUiState));ir({renderState:j,instantSearchInstance:p,parent:b})}}),P.forEach(function(R){R.init&&R.init(Ce(p,b,p._initialUiState))}),f?this.scheduleLocalSearch():p.scheduleSearch()),this},removeWidgets:function(g){var b=this;if(!Array.isArray(g))throw new Error(Ee("The `removeWidgets` method expects an array of widgets."));var P=g.reduce(function(O,w){return O.concat(Array.isArray(w)?w:[w])},[]);if(P.some(function(O){return typeof O.dispose!="function"}))throw new Error(Ee("The widget definition expects a `dispose` method."));if(h=h.filter(function(O){return P.indexOf(O)===-1}),h.forEach(function(O){O.parent=void 0,!ne(O)&&(p&&O.dependsOn==="recommend"?p._hasRecommendWidget=!0:p?p._hasSearchWidget=!0:O.dependsOn==="recommend"?m=!0:v=!0)}),p&&P.length){var R=P.reduce(function(O,w){var x=w.dispose({helper:c,state:O.cleanedSearchState,recommendState:O.cleanedRecommendState,parent:b});return x instanceof re.RecommendParameters?O.cleanedRecommendState=x:x&&(O.cleanedSearchState=x),O},{cleanedSearchState:c.state,cleanedRecommendState:c.recommendState}),j=R.cleanedSearchState,_=R.cleanedRecommendState,S=p.future.preserveSharedStateOnUnmount?Ie(h,{uiState:d,initialSearchParameters:new re.SearchParameters({index:this.getIndexName()})}):Ie(h,{uiState:$e(h,{searchParameters:j,helper:c}),initialSearchParameters:j});d=$e(h,{searchParameters:S,helper:c}),c.setState(S),c.recommendState=_,h.length&&(f?this.scheduleLocalSearch():p.scheduleSearch())}return this},init:function(g){var b=this,P,R=g.instantSearchInstance,j=g.parent,_=g.uiState;if(c===null){p=R,y=j,d=_[a]||{};var S=R.mainHelper,O=Ie(h,{uiState:d,initialSearchParameters:new re.SearchParameters({index:n})}),w=Xn(h,{uiState:d,initialRecommendParameters:new re.RecommendParameters});c=re(S.getClient(),O.index,O),c.recommendState=w,c.search=function(){return f?(R.status="loading",b.render({instantSearchInstance:R}),R.compositionID?c.searchWithComposition():c.searchOnlyWithDerivedHelpers()):R.onStateChange?(R.onStateChange({uiState:R.mainIndex.getWidgetUiState({}),setUiState:function(T){return R.setUiState(T,!1)}}),S):S.search()},c.searchWithoutTriggeringOnStateChange=function(){return S.search()};var x=n?c:re({},"__empty_index__",{}),F=f?x:bu(j,S);s=F.derive(function(){return na.apply(void 0,[S.state].concat(ha(Co(b))))},function(){return b.getHelper().recommendState});var E=(P=R._initialResults)===null||P===void 0?void 0:P[this.getIndexId()];if(E!=null&&E.results){var H=new re.SearchResults(new re.SearchParameters(E.state),E.results);s.lastResults=H,c.lastResults=H}if(E!=null&&E.recommendResults){var U=new re.RecommendResults(new re.RecommendParameters({params:E.recommendResults.params}),E.recommendResults.results);s.lastRecommendResults=U,c.lastRecommendResults=U}c.on("change",function(C){var T=C.isPageReset;T&&pa(h)}),s.on("search",function(){R.scheduleStalledRender()}),s.on("result",function(C){var T=C.results;R.scheduleRender(),c.lastResults=T,o=T?._state}),s.on("recommend:result",function(C){var T=C.recommend;R.scheduleRender(),c.lastRecommendResults=T.results}),h.forEach(function(C){if(C.getRenderState){var T=C.getRenderState(R.renderState[b.getIndexId()]||{},Ce(R,b,_));ir({renderState:T,instantSearchInstance:R,parent:b})}}),h.forEach(function(C){C.init&&C.init(Ce(R,b,_))}),c.on("change",function(C){var T=C.state,$=C._uiState;d=$e(h,{searchParameters:T,helper:c},$||{}),R.onStateChange||R.onInternalStateChange()}),E&&R.scheduleRender(),m&&(R._hasRecommendWidget=!0),v&&(R._hasSearchWidget=!0)}},render:function(g){var b,P=this,R=g.instantSearchInstance;R.status==="error"&&!R.mainHelper.hasPendingRequests()&&o&&c.setState(o);var j=this.getResults()||(b=s)!==null&&b!==void 0&&b.lastRecommendResults||f&&!n?h:h.filter(function(_){return _.shouldRender});j=j.filter(function(_){return _.shouldRender?_.shouldRender({instantSearchInstance:R}):!0}),j.forEach(function(_){if(_.getRenderState){var S=_.getRenderState(R.renderState[P.getIndexId()]||{},Ln(R,P,_));ir({renderState:S,instantSearchInstance:R,parent:P})}}),j.forEach(function(_){_.render&&_.render(Ln(R,P,_))})},dispose:function(){var g=this,b,P;h.forEach(function(R){R.dispose&&c&&R.dispose({helper:c,state:c.state,recommendState:c.recommendState,parent:g})}),p=null,y=null,(b=c)===null||b===void 0||b.removeAllListeners(),c=null,(P=s)===null||P===void 0||P.detach(),s=null},getWidgetUiState:function(g){return h.filter(ne).filter(function(b){return!b._isolated}).reduce(function(b,P){return P.getWidgetUiState(b)},se(se({},g),{},Se({},a,se(se({},g[a]),d))))},getWidgetState:function(g){return this.getWidgetUiState(g)},getWidgetSearchParameters:function(g,b){var P=b.uiState;return Ie(h,{uiState:P,initialSearchParameters:g})},shouldRender:function(){return!0},refreshUiState:function(){d=$e(h,{searchParameters:this.getHelper().state,helper:this.getHelper()},d)},setIndexUiState:function(g){var b=typeof g=="function"?g(d):g;p.setUiState(function(P){return se(se({},P),{},Se({},a,b))})}}};function ir(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=se(se({},r.renderState),{},Se({},i,se(se({},r.renderState[i]),t)))}function bu(e,t){for(;e;){if(e._isolated)return e.getHelper();e=e.getParent()}return t}function Su(e,t){return ju(e)||Ou(e,t)||Pu(e,t)||Ru()}function Ru(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pu(e,t){if(e){if(typeof e=="string")return Yn(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yn(e,t):void 0}}function Yn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ou(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function ju(e){if(Array.isArray(e))return e}function wu(){var e=W.useReducer(function(n){return n+1},0),t=Su(e,2),r=t[1];return r}var _u=Cr();const xu=Ar(_u);var Fu="ais",Ot=function(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",u=i?"--".concat(i):"";return"".concat(Fu,"-").concat(t).concat(a).concat(u)}},Eu=Ot("Highlight");function $u(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,u=a===void 0?{}:a,f=Pt(i._highlightResult,t),h=f||{},d=h.value,p=d===void 0?"":d,y=Eu({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return p.replace(new RegExp(Z.highlightPreTag,"g"),"<".concat(n,' class="').concat(y,'">')).replace(new RegExp(Z.highlightPostTag,"g"),"</".concat(n,">"))}var Iu=Ot("ReverseHighlight");function Tu(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,u=a===void 0?{}:a,f=Pt(i._highlightResult,t),h=f||{},d=h.value,p=d===void 0?"":d,y=Iu({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):""),c=Xi(ia(Wr(p)));return c.replace(new RegExp(Z.highlightPreTag,"g"),"<".concat(n,' class="').concat(y,'">')).replace(new RegExp(Z.highlightPostTag,"g"),"</".concat(n,">"))}var Au=Ot("Snippet");function Cu(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,u=a===void 0?{}:a,f=Pt(i._snippetResult,t),h=f||{},d=h.value,p=d===void 0?"":d,y=Au({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return p.replace(new RegExp(Z.highlightPreTag,"g"),"<".concat(n,' class="').concat(y,'">')).replace(new RegExp(Z.highlightPostTag,"g"),"</".concat(n,">"))}var Nu=Ot("ReverseSnippet");function Hu(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,u=a===void 0?{}:a,f=Pt(i._snippetResult,t),h=f||{},d=h.value,p=d===void 0?"":d,y=Nu({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):""),c=Xi(ia(Wr(p)));return c.replace(new RegExp(Z.highlightPreTag,"g"),"<".concat(n,' class="').concat(y,'">')).replace(new RegExp(Z.highlightPostTag,"g"),"</".concat(n,">"))}function Pr(e){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(e)}function Du(e){var t=e.method,r=e.payload;if(Pr(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=Yi(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(n,'"')}function Lu(e,t){return Du({method:e,payload:t})}function Or(e){"@babel/helpers - typeof";return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(e)}var ku="_ALGOLIA";function Wu(e){if(!((typeof document>"u"?"undefined":Or(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function Uu(){return Wu(ku)}function Mu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function Ke(e){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ke(e)}function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zn(Object(r),!0).forEach(function(n){Qu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qu(e,t,r){return(t=qu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qu(e){var t=Bu(e,"string");return Ke(t)=="symbol"?t:t+""}function Bu(e,t){if(Ke(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ke(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function le(e,t){return zu(e)||Ku(e,t)||va(e,t)||Vu()}function Vu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ku(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function zu(e){if(Array.isArray(e))return e}function Ju(e){return Yu(e)||Xu(e)||va(e)||Gu()}function Gu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(e,t){if(e){if(typeof e=="string")return jr(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(e,t):void 0}}function Xu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yu(e){if(Array.isArray(e))return jr(e)}function jr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ya="2.17.2",Zu="https://cdn.jsdelivr.net/npm/search-insights@".concat(ya,"/dist/search-insights.min.js");function ei(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,r=e.insightsInitParams,n=e.onEvent,i=e.$$internal,a=i===void 0?!1:i,u=e.$$automatic,f=u===void 0?!1:u,h=t;!t&&t!==null&&me(function(p){var y=p.window,c=y.AlgoliaAnalyticsObject||"aa";typeof c=="string"&&(h=y[c]),h||(y.AlgoliaAnalyticsObject=c,y[c]||(y[c]=function(){y[c].queue||(y[c].queue=[]);for(var s=arguments.length,o=new Array(s),m=0;m<s;m++)o[m]=arguments[m];y[c].queue.push(o)},y[c].version=ya,y[c].shouldAddScript=!0),h=y[c])});var d=h||Y;return function(p){var y=p.instantSearchInstance,c=y.middleware.filter(function(O){return O.instance.$$type==="ais.insights"&&O.instance.$$internal}).map(function(O){return O.creator});y.unuse.apply(y,Ju(c));var s=_n(y.client),o=le(s,2),m=o[0],v=o[1],l=void 0,g=void 0,b=void 0,P=d.queue;if(Array.isArray(P)){var R=["setUserToken","init"].map(function(O){var w=De(P.slice().reverse(),function(E){var H=le(E,1),U=H[0];return U===O})||[],x=le(w,2),F=x[1];return F}),j=le(R,2);g=j[0],l=j[1]}d("getUserToken",null,function(O,w){b=ri(w)}),(r||!ti(d))&&d("init",ge({appId:m,apiKey:v,partial:!0},r));var _,S;return{$$type:"ais.insights",$$internal:a,$$automatic:f,onStateChange:function(){},subscribe:function(){if(d.shouldAddScript){var w="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var x=document.createElement("script");x.async=!0,x.src=Zu,x.onerror=function(){y.emit("error",new Error(w))},document.body.appendChild(x),d.shouldAddScript=!1}catch{d.shouldAddScript=!1,y.emit("error",new Error(w))}}},started:function(){d("addAlgoliaAgent","insights-middleware"),S=y.mainHelper;var w=d.queue;if(Array.isArray(w)){var x=["setUserToken","init"].map(function(L){var M=De(w.slice().reverse(),function(X){var te=le(X,1),ie=te[0];return ie===L})||[],z=le(M,2),V=z[1];return V}),F=le(x,2);g=F[0],l=F[1]}_=ec(y),f||S.overrideStateWithoutTriggeringChangeEvent(ge(ge({},S.state),{},{clickAnalytics:!0})),a||y.scheduleSearch();var E=function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V=ri(M);if(!V)return;var X=S.state.userToken;function te(){S.overrideStateWithoutTriggeringChangeEvent(ge(ge({},S.state),{},{userToken:V})),X&&X!==M&&y.scheduleSearch()}z?te():setTimeout(te,0)};function H(L){E(L,!0),d("setUserToken",L)}var U=void 0,C=Uu();if(C)U=C;else{var T="anonymous-".concat(Mu());U=T}var $,I=_.userToken;if(r!=null&&r.userToken&&($=r.userToken),$)H($);else if(I)H(I);else if(b)H(b);else if(g)H(g);else if(U){var A;if(H(U),r!=null&&r.useCookie||(A=l)!==null&&A!==void 0&&A.useCookie){var D;tc(U,r?.cookieDuration||((D=l)===null||D===void 0?void 0:D.cookieDuration))}}d("onUserTokenChange",function(L){return E(L,!0)},{immediate:!0});var Q=d;ti(d)&&(Q=function(M,z){var V=_n(y.client),X=le(V,2),te=X[0],ie=X[1],jt={headers:{"X-Algolia-Application-Id":te,"X-Algolia-API-Key":ie}};return d(M,z,jt)});var q=new Set,G;y.mainHelper.derivedHelpers[0].on("result",function(L){var M=L.results;M&&(!M.queryID||M.queryID!==G)&&(G=M.queryID,q.clear())}),y.sendEventToInsights=function(L){if(n)n(L,Q);else if(L.insightsMethod){if(L.insightsMethod==="viewedObjectIDs"){var M=L.payload,z=M.objectIDs.filter(function(V){return!q.has(V)});if(z.length===0)return;z.forEach(function(V){return q.add(V)}),M.objectIDs=z}L.payload.algoliaSource=["instantsearch"],f&&L.payload.algoliaSource.push("instantsearch-automatic"),L.eventModifier==="internal"&&L.payload.algoliaSource.push("instantsearch-internal"),Q(L.insightsMethod,L.payload)}}},unsubscribe:function(){d("onUserTokenChange",void 0),y.sendEventToInsights=Y,S&&_&&(S.overrideStateWithoutTriggeringChangeEvent(ge(ge({},S.state),_)),y.scheduleSearch())}}}}function ec(e){var t,r,n=((t=e._initialResults)===null||t===void 0||(r=t[e.indexName])===null||r===void 0?void 0:r.state)||{},i=e.mainHelper.state;return{userToken:n.userToken||i.userToken,clickAnalytics:n.clickAnalytics||i.clickAnalytics}}function tc(e,t){var r=2592e6,n=new Date;n.setTime(n.getTime()+(t||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function ti(e){var t=(e.version||"").split(".").map(Number),r=le(t,2),n=r[0],i=r[1],a=n>=3,u=n===2&&i>=6,f=n===1&&i>=10;return a||u||f}function ri(e){if(e)return typeof e=="number"?e.toString():e}function ba(e,t,r){var n=Ce(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var a={};if(i.getWidgetRenderState){var u=i.getWidgetRenderState(n);u&&u.widgetParams&&(a=u.widgetParams)}var f=Object.keys(a).filter(function(h){return a[h]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:f}),i.$$type==="ais.index"&&ba(i.getWidgets(),t,r)})}function rc(){return me(function(e){var t,r,n=e.window;return((t=n.navigator)===null||t===void 0||(r=t.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function nc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,r=t===void 0?!1:t;return function(n){var i=n.instantSearchInstance,a={widgets:[]},u=document.createElement("meta"),f=document.querySelector("head");return u.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){a.ua=Ws(i.client),ba(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(d){return a.widgets.push({middleware:!0,type:d.instance.$$type,internal:d.instance.$$internal})}),u.content=JSON.stringify(a),f.appendChild(u)},0)},started:function(){},unsubscribe:function(){u.remove()}}}}var ar,ni;function Mr(){if(ni)return ar;ni=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return ar={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},ar}var sr,ii;function Sa(){if(ii)return sr;ii=1;var e=Mr(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n=(function(){for(var m=[],v=0;v<256;++v)m.push("%"+((v<16?"0":"")+v.toString(16)).toUpperCase());return m})(),i=function(v){for(;v.length>1;){var l=v.pop(),g=l.obj[l.prop];if(r(g)){for(var b=[],P=0;P<g.length;++P)typeof g[P]<"u"&&b.push(g[P]);l.obj[l.prop]=b}}},a=function(v,l){for(var g=l&&l.plainObjects?Object.create(null):{},b=0;b<v.length;++b)typeof v[b]<"u"&&(g[b]=v[b]);return g},u=function m(v,l,g){if(!l)return v;if(typeof l!="object"){if(r(v))v.push(l);else if(v&&typeof v=="object")(g&&(g.plainObjects||g.allowPrototypes)||!t.call(Object.prototype,l))&&(v[l]=!0);else return[v,l];return v}if(!v||typeof v!="object")return[v].concat(l);var b=v;return r(v)&&!r(l)&&(b=a(v,g)),r(v)&&r(l)?(l.forEach(function(P,R){if(t.call(v,R)){var j=v[R];j&&typeof j=="object"&&P&&typeof P=="object"?v[R]=m(j,P,g):v.push(P)}else v[R]=P}),v):Object.keys(l).reduce(function(P,R){var j=l[R];return t.call(P,R)?P[R]=m(P[R],j,g):P[R]=j,P},b)},f=function(v,l){return Object.keys(l).reduce(function(g,b){return g[b]=l[b],g},v)},h=function(m,v,l){var g=m.replace(/\+/g," ");if(l==="iso-8859-1")return g.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(g)}catch{return g}},d=function(v,l,g,b,P){if(v.length===0)return v;var R=v;if(typeof v=="symbol"?R=Symbol.prototype.toString.call(v):typeof v!="string"&&(R=String(v)),g==="iso-8859-1")return escape(R).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var j="",_=0;_<R.length;++_){var S=R.charCodeAt(_);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||P===e.RFC1738&&(S===40||S===41)){j+=R.charAt(_);continue}if(S<128){j=j+n[S];continue}if(S<2048){j=j+(n[192|S>>6]+n[128|S&63]);continue}if(S<55296||S>=57344){j=j+(n[224|S>>12]+n[128|S>>6&63]+n[128|S&63]);continue}_+=1,S=65536+((S&1023)<<10|R.charCodeAt(_)&1023),j+=n[240|S>>18]+n[128|S>>12&63]+n[128|S>>6&63]+n[128|S&63]}return j},p=function(v){for(var l=[{obj:{o:v},prop:"o"}],g=[],b=0;b<l.length;++b)for(var P=l[b],R=P.obj[P.prop],j=Object.keys(R),_=0;_<j.length;++_){var S=j[_],O=R[S];typeof O=="object"&&O!==null&&g.indexOf(O)===-1&&(l.push({obj:R,prop:S}),g.push(O))}return i(l),v},y=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},c=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},s=function(v,l){return[].concat(v,l)},o=function(v,l){if(r(v)){for(var g=[],b=0;b<v.length;b+=1)g.push(l(v[b]));return g}return l(v)};return sr={arrayToObject:a,assign:f,combine:s,compact:p,decode:h,encode:d,isBuffer:c,isRegExp:y,maybeMap:o,merge:u},sr}var or,ai;function ic(){if(ai)return or;ai=1;var e=Sa(),t=Mr(),r=Object.prototype.hasOwnProperty,n={brackets:function(m){return m+"[]"},comma:"comma",indices:function(m,v){return m+"["+v+"]"},repeat:function(m){return m}},i=Array.isArray,a=String.prototype.split,u=Array.prototype.push,f=function(o,m){u.apply(o,i(m)?m:[m])},h=Date.prototype.toISOString,d=t.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:e.encode,encodeValuesOnly:!1,format:d,formatter:t.formatters[d],indices:!1,serializeDate:function(m){return h.call(m)},skipNulls:!1,strictNullHandling:!1},y=function(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"},c=function o(m,v,l,g,b,P,R,j,_,S,O,w,x,F){var E=m;if(typeof R=="function"?E=R(v,E):E instanceof Date?E=S(E):l==="comma"&&i(E)&&(E=e.maybeMap(E,function(L){return L instanceof Date?S(L):L})),E===null){if(g)return P&&!x?P(v,p.encoder,F,"key",O):v;E=""}if(y(E)||e.isBuffer(E)){if(P){var H=x?v:P(v,p.encoder,F,"key",O);if(l==="comma"&&x){for(var U=a.call(String(E),","),C="",T=0;T<U.length;++T)C+=(T===0?"":",")+w(P(U[T],p.encoder,F,"value",O));return[w(H)+"="+C]}return[w(H)+"="+w(P(E,p.encoder,F,"value",O))]}return[w(v)+"="+w(String(E))]}var $=[];if(typeof E>"u")return $;var I;if(l==="comma"&&i(E))I=[{value:E.length>0?E.join(",")||null:void 0}];else if(i(R))I=R;else{var A=Object.keys(E);I=j?A.sort(j):A}for(var D=0;D<I.length;++D){var Q=I[D],q=typeof Q=="object"&&typeof Q.value<"u"?Q.value:E[Q];if(!(b&&q===null)){var G=i(E)?typeof l=="function"?l(v,Q):v:v+(_?"."+Q:"["+Q+"]");f($,o(q,G,l,g,b,P,R,j,_,S,O,w,x,F))}}return $},s=function(m){if(!m)return p;if(m.encoder!==null&&typeof m.encoder<"u"&&typeof m.encoder!="function")throw new TypeError("Encoder has to be a function.");var v=m.charset||p.charset;if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=t.default;if(typeof m.format<"u"){if(!r.call(t.formatters,m.format))throw new TypeError("Unknown format option provided.");l=m.format}var g=t.formatters[l],b=p.filter;return(typeof m.filter=="function"||i(m.filter))&&(b=m.filter),{addQueryPrefix:typeof m.addQueryPrefix=="boolean"?m.addQueryPrefix:p.addQueryPrefix,allowDots:typeof m.allowDots>"u"?p.allowDots:!!m.allowDots,charset:v,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:p.charsetSentinel,delimiter:typeof m.delimiter>"u"?p.delimiter:m.delimiter,encode:typeof m.encode=="boolean"?m.encode:p.encode,encoder:typeof m.encoder=="function"?m.encoder:p.encoder,encodeValuesOnly:typeof m.encodeValuesOnly=="boolean"?m.encodeValuesOnly:p.encodeValuesOnly,filter:b,format:l,formatter:g,serializeDate:typeof m.serializeDate=="function"?m.serializeDate:p.serializeDate,skipNulls:typeof m.skipNulls=="boolean"?m.skipNulls:p.skipNulls,sort:typeof m.sort=="function"?m.sort:null,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:p.strictNullHandling}};return or=function(o,m){var v=o,l=s(m),g,b;typeof l.filter=="function"?(b=l.filter,v=b("",v)):i(l.filter)&&(b=l.filter,g=b);var P=[];if(typeof v!="object"||v===null)return"";var R;m&&m.arrayFormat in n?R=m.arrayFormat:m&&"indices"in m?R=m.indices?"indices":"repeat":R="indices";var j=n[R];g||(g=Object.keys(v)),l.sort&&g.sort(l.sort);for(var _=0;_<g.length;++_){var S=g[_];l.skipNulls&&v[S]===null||f(P,c(v[S],S,j,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset))}var O=P.join(l.delimiter),w=l.addQueryPrefix===!0?"?":"";return l.charsetSentinel&&(l.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),O.length>0?w+O:""},or}var ur,si;function ac(){if(si)return ur;si=1;var e=Sa(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(c){return c.replace(/&#(\d+);/g,function(s,o){return String.fromCharCode(parseInt(o,10))})},a=function(c,s){return c&&typeof c=="string"&&s.comma&&c.indexOf(",")>-1?c.split(","):c},u="utf8=%26%2310003%3B",f="utf8=%E2%9C%93",h=function(s,o){var m={},v=o.ignoreQueryPrefix?s.replace(/^\?/,""):s,l=o.parameterLimit===1/0?void 0:o.parameterLimit,g=v.split(o.delimiter,l),b=-1,P,R=o.charset;if(o.charsetSentinel)for(P=0;P<g.length;++P)g[P].indexOf("utf8=")===0&&(g[P]===f?R="utf-8":g[P]===u&&(R="iso-8859-1"),b=P,P=g.length);for(P=0;P<g.length;++P)if(P!==b){var j=g[P],_=j.indexOf("]="),S=_===-1?j.indexOf("="):_+1,O,w;S===-1?(O=o.decoder(j,n.decoder,R,"key"),w=o.strictNullHandling?null:""):(O=o.decoder(j.slice(0,S),n.decoder,R,"key"),w=e.maybeMap(a(j.slice(S+1),o),function(x){return o.decoder(x,n.decoder,R,"value")})),w&&o.interpretNumericEntities&&R==="iso-8859-1"&&(w=i(w)),j.indexOf("[]=")>-1&&(w=r(w)?[w]:w),t.call(m,O)?m[O]=e.combine(m[O],w):m[O]=w}return m},d=function(c,s,o,m){for(var v=m?s:a(s,o),l=c.length-1;l>=0;--l){var g,b=c[l];if(b==="[]"&&o.parseArrays)g=[].concat(v);else{g=o.plainObjects?Object.create(null):{};var P=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,R=parseInt(P,10);!o.parseArrays&&P===""?g={0:v}:!isNaN(R)&&b!==P&&String(R)===P&&R>=0&&o.parseArrays&&R<=o.arrayLimit?(g=[],g[R]=v):P!=="__proto__"&&(g[P]=v)}v=g}return v},p=function(s,o,m,v){if(s){var l=m.allowDots?s.replace(/\.([^.[]+)/g,"[$1]"):s,g=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,P=m.depth>0&&g.exec(l),R=P?l.slice(0,P.index):l,j=[];if(R){if(!m.plainObjects&&t.call(Object.prototype,R)&&!m.allowPrototypes)return;j.push(R)}for(var _=0;m.depth>0&&(P=b.exec(l))!==null&&_<m.depth;){if(_+=1,!m.plainObjects&&t.call(Object.prototype,P[1].slice(1,-1))&&!m.allowPrototypes)return;j.push(P[1])}return P&&j.push("["+l.slice(P.index)+"]"),d(j,o,m,v)}},y=function(s){if(!s)return n;if(s.decoder!==null&&s.decoder!==void 0&&typeof s.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof s.charset<"u"&&s.charset!=="utf-8"&&s.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=typeof s.charset>"u"?n.charset:s.charset;return{allowDots:typeof s.allowDots>"u"?n.allowDots:!!s.allowDots,allowPrototypes:typeof s.allowPrototypes=="boolean"?s.allowPrototypes:n.allowPrototypes,arrayLimit:typeof s.arrayLimit=="number"?s.arrayLimit:n.arrayLimit,charset:o,charsetSentinel:typeof s.charsetSentinel=="boolean"?s.charsetSentinel:n.charsetSentinel,comma:typeof s.comma=="boolean"?s.comma:n.comma,decoder:typeof s.decoder=="function"?s.decoder:n.decoder,delimiter:typeof s.delimiter=="string"||e.isRegExp(s.delimiter)?s.delimiter:n.delimiter,depth:typeof s.depth=="number"||s.depth===!1?+s.depth:n.depth,ignoreQueryPrefix:s.ignoreQueryPrefix===!0,interpretNumericEntities:typeof s.interpretNumericEntities=="boolean"?s.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof s.parameterLimit=="number"?s.parameterLimit:n.parameterLimit,parseArrays:s.parseArrays!==!1,plainObjects:typeof s.plainObjects=="boolean"?s.plainObjects:n.plainObjects,strictNullHandling:typeof s.strictNullHandling=="boolean"?s.strictNullHandling:n.strictNullHandling}};return ur=function(c,s){var o=y(s);if(c===""||c===null||typeof c>"u")return o.plainObjects?Object.create(null):{};for(var m=typeof c=="string"?h(c,o):c,v=o.plainObjects?Object.create(null):{},l=Object.keys(m),g=0;g<l.length;++g){var b=l[g],P=p(b,m[b],o,typeof c=="string");v=e.merge(v,P,o)}return e.compact(v)},ur}var cr,oi;function sc(){if(oi)return cr;oi=1;var e=ic(),t=ac(),r=Mr();return cr={formats:r,parse:t,stringify:e},cr}var oc=sc();const ui=Ar(oc);function ze(e){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(e)}function uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ra(n.key),n)}}function lc(e,t,r){return t&&cc(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e,t,r){return(t=Ra(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ra(e){var t=fc(e,"string");return ze(t)=="symbol"?t:t+""}function fc(e,t){if(ze(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ze(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ci=function(t){t&&(window.document.title=t)},hc=(function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,a=i===void 0?400:i,u=t.createURL,f=t.parseURL,h=t.getLocation,d=t.start,p=t.dispose,y=t.push,c=t.cleanUrlOnDispose;uc(this,e),ee(this,"$$type","ais.browser"),ee(this,"windowTitle",void 0),ee(this,"writeDelay",void 0),ee(this,"_createURL",void 0),ee(this,"parseURL",void 0),ee(this,"getLocation",void 0),ee(this,"writeTimer",void 0),ee(this,"_onPopState",void 0),ee(this,"inPopState",!1),ee(this,"isDisposed",!1),ee(this,"latestAcknowledgedHistory",0),ee(this,"_start",void 0),ee(this,"_dispose",void 0),ee(this,"_push",void 0),ee(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=u,this.parseURL=f,this.getLocation=h,this._start=d,this._dispose=p,this._push=y,this._cleanUrlOnDispose=typeof c>"u"?!0:c,me(function(s){var o=s.window,m=r.windowTitle&&r.windowTitle(r.read());ci(m),r.latestAcknowledgedHistory=o.history.length})}return lc(e,[{key:"read",value:function(){return this.parseURL({qsModule:ui,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;me(function(i){var a=i.window,u=n.createURL(r),f=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){ci(f),n.shouldWrite(u)&&(n._push?n._push(u):a.history.pushState(r,f||"",u),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},me(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:ui,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,me(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return me(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var u=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&u&&r!==a.location.href})}}]),e})();function dc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,r=t===void 0?function(o){var m=o.qsModule,v=o.routeState,l=o.location,g=l.protocol,b=l.hostname,P=l.port,R=P===void 0?"":P,j=l.pathname,_=l.hash,S=m.stringify(v),O=R===""?"":":".concat(R);return S?"".concat(g,"//").concat(b).concat(O).concat(j,"?").concat(S).concat(_):"".concat(g,"//").concat(b).concat(O).concat(j).concat(_)}:t,n=e.parseURL,i=n===void 0?function(o){var m=o.qsModule,v=o.location;return m.parse(v.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,u=a===void 0?400:a,f=e.windowTitle,h=e.getLocation,d=h===void 0?function(){return me(function(o){var m=o.window;return m.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:h,p=e.start,y=e.dispose,c=e.push,s=e.cleanUrlOnDispose;return new hc({createURL:r,parseURL:i,writeDelay:u,windowTitle:f,getLocation:d,start:p,dispose:y,push:c,cleanUrlOnDispose:s})}function Je(e){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Je(e)}var mc=["configure"];function li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?li(Object(r),!0).forEach(function(n){wr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wr(e,t,r){return(t=pc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pc(e){var t=gc(e,"string");return Je(t)=="symbol"?t:t+""}function gc(e,t){if(Je(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Je(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vc(e,t){if(e==null)return{};var r,n,i=yc(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yc(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fi(e){e.configure;var t=vc(e,mc);return t}function bc(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(r,n){return mt(mt({},r),{},wr({},n,fi(t[n])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(r,n){return mt(mt({},r),{},wr({},n,fi(t[n])))},{})}}}function Ge(e){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ge(e)}function hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hi(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pa(e,t,r){return(t=Sc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sc(e){var t=Rc(e,"string");return Ge(t)=="symbol"?t:t+""}function Rc(e,t){if(Ge(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ge(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pc=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.router,n=r===void 0?dc():r,i=t.stateMapping,a=i===void 0?bc():i,u=t.$$internal,f=u===void 0?!1:u;return function(h){var d=h.instantSearchInstance;function p(s){var o=d.mainIndex.getWidgets().length===0?d._initialUiState:d.mainIndex.getWidgetUiState({}),m=Object.keys(s).reduce(function(l,g){return pt(pt({},l),{},Pa({},g,s[g]))},o),v=a.stateToRoute(m);return n.createURL(v)}d._createURL=p;var y=void 0,c=d._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:f,onStateChange:function(o){var m=o.uiState,v=a.stateToRoute(m);(y===void 0||!ta(y,v))&&(n.write(v),y=v)},subscribe:function(){d._initialUiState=pt(pt({},c),a.routeToState(n.read())),n.onUpdate(function(o){d.mainIndex.getWidgets().length>0&&d.setUiState(a.routeToState(o))})},started:function(){var o;(o=n.start)===null||o===void 0||o.call(n)},unsubscribe:function(){n.dispose()}}}};function Oc(e,t){return e.toLocaleString(t)}function Xe(e){"@babel/helpers - typeof";return Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(e)}function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?di(Object(r),!0).forEach(function(n){jc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jc(e,t,r){return(t=wc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wc(e){var t=_c(e,"string");return Xe(t)=="symbol"?t:t+""}function _c(e,t){if(Xe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xc(e){var t=e.numberLocale;return{formatNumber:function(n,i){return Oc(Number(i(n)),t)},highlight:function(n,i){try{var a=JSON.parse(n);return i($u(ue(ue({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(Tu(ue(ue({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(Cu(ue(ue({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(Hu(ue(ue({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),u=a.method,f=a.payload;return i(Lu(u,ue({objectIDs:[this.objectID]},f)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const Fc="4.86.1";function we(e){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(e)}function mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mi(Object(r),!0).forEach(function(n){K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ec(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ja(n.key),n)}}function Ic(e,t,r){return t&&$c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_r(e,t)}function _r(e,t){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_r(e,t)}function Ac(e){var t=Oa();return function(){var r,n=yt(e);if(t){var i=yt(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Cc(this,r)}}function Cc(e,t){if(t&&(we(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oa=function(){return!!e})()}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(e)}function K(e,t,r){return(t=ja(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ja(e){var t=Nc(e,"string");return we(t)=="symbol"?t:t+""}function Nc(e,t){if(we(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(we(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ce=pe({name:"instantsearch"});function Hc(){return"#"}var wa={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},Dc=(function(e){Tc(r,e);var t=Ac(r);function r(n){var i;Ec(this,r),i=t.call(this),K(B(i),"client",void 0),K(B(i),"indexName",void 0),K(B(i),"compositionID",void 0),K(B(i),"insightsClient",void 0),K(B(i),"onStateChange",null),K(B(i),"future",void 0),K(B(i),"helper",void 0),K(B(i),"mainHelper",void 0),K(B(i),"mainIndex",void 0),K(B(i),"started",void 0),K(B(i),"templatesConfig",void 0),K(B(i),"renderState",{}),K(B(i),"_stalledSearchDelay",void 0),K(B(i),"_searchStalledTimer",void 0),K(B(i),"_initialUiState",void 0),K(B(i),"_initialResults",void 0),K(B(i),"_manuallyResetScheduleSearch",!1),K(B(i),"_resetScheduleSearch",void 0),K(B(i),"_createURL",void 0),K(B(i),"_searchFunction",void 0),K(B(i),"_mainHelperSearch",void 0),K(B(i),"_hasSearchWidget",!1),K(B(i),"_hasRecommendWidget",!1),K(B(i),"_insights",void 0),K(B(i),"middleware",[]),K(B(i),"sendEventToInsights",void 0),K(B(i),"status","idle"),K(B(i),"error",void 0),K(B(i),"scheduleSearch",ye(function(){i.started&&i.mainHelper.search()})),K(B(i),"scheduleRender",ye(function(){var F,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(F=i.mainHelper)!==null&&F!==void 0&&F.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,E&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:B(i)}),i.emit("render")})),K(B(i),"onInternalStateChange",ye(function(){var F=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(E){var H=E.instance;H.onStateChange({uiState:F})})})),i.setMaxListeners(100);var a=n.indexName,u=a===void 0?"":a,f=n.compositionID,h=n.numberLocale,d=n.initialUiState,p=d===void 0?{}:d,y=n.routing,c=y===void 0?null:y,s=n.insights,o=s===void 0?void 0:s,m=n.searchFunction,v=n.stalledSearchDelay,l=v===void 0?200:v,g=n.searchClient,b=g===void 0?null:g,P=n.insightsClient,R=P===void 0?null:P,j=n.onStateChange,_=j===void 0?null:j,S=n.future,O=S===void 0?lr(lr({},wa),n.future||{}):S;if(b===null)throw new Error(ce("The `searchClient` option is required."));if(typeof b.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof b.addAlgoliaAgent=="function"&&b.addAlgoliaAgent("instantsearch.js (".concat(Fc,")")),R&&typeof R!="function")throw new Error(ce("The `insightsClient` option should be a function."));if(i.client=b,i.future=O,i.insightsClient=R,i.indexName=u,i.compositionID=f,i.helper=null,i.mainHelper=null,i.mainIndex=yu({indexName:i.compositionID||i.indexName}),i.onStateChange=_,i.started=!1,i.templatesConfig={helpers:xc({numberLocale:h}),compileOptions:{}},i._stalledSearchDelay=l,i._searchStalledTimer=null,i._createURL=Hc,i._initialUiState=p,i._initialResults=null,i._insights=o,m&&(i._searchFunction=m),i.sendEventToInsights=Y,c){var w=typeof c=="boolean"?{}:c;w.$$internal=!0,i.use(Pc(w))}if(o){var x=typeof o=="boolean"?{}:o;x.$$internal=!0,i.use(ei(x))}return rc()&&i.use(nc({$$internal:!0})),i}return Ic(r,[{key:"_isSearchStalled",get:(function(){return this.status==="stalled"})},{key:"use",value:function(){for(var i=this,a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];var h=u.map(function(d){var p=lr({$$type:"__unknown__",$$internal:!1,subscribe:Y,started:Y,unsubscribe:Y,onStateChange:Y},d({instantSearchInstance:i}));return i.middleware.push({creator:d,instance:p}),p});return this.started&&h.forEach(function(d){d.subscribe(),d.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return this.middleware.filter(function(f){return a.includes(f.creator)}).forEach(function(f){return f.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(f){return!a.includes(f.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(ce("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(this.compositionID&&i.some(function(a){return!Array.isArray(a)&&ne(a)&&!a._isolated}))throw new Error(ce("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(ce("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(ce("The `start` method has already been called once."));var a=this.mainHelper||re(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(a.searchForFacetValues=a.searchForCompositionFacetValues.bind(a)),a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?a.searchWithComposition():a.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var u={search:function(){return new Promise(Y)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var h=i.mainIndex.getHelper(),d=re(u,h.state.index,h.state);return d.once("search",function(p){var y=p.state;h.overrideStateWithoutTriggeringChangeEvent(y),i._mainHelperSearch()}),d.on("change",function(p){var y=p.state;h.setState(y)}),i._searchFunction(d),a}}if(a.on("error",function(h){var d=h.error;if(!(d instanceof Error)){var p=d;d=Object.keys(p).reduce(function(y,c){return y[c]=p[c],y},new Error(p.message))}d.error=d,i.error=d,i.status="error",i.scheduleRender(!1),i.emit("error",d)}),this.mainHelper=a,this.middleware.forEach(function(h){var d=h.instance;d.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){co(this.client,this._initialResults),to(this.mainHelper,this._initialResults);var f=this.scheduleSearch;this.scheduleSearch=ye(Y),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=f}:ye(function(){i.scheduleSearch=f})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(h){var d=h.instance;d.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var h=i.mainIndex.getScopedResults().some(function(d){var p=d.results;return p?._automaticInsights});h&&i.use(ei({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var u=a.instance;u.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(ce("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var f=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&u?this.onStateChange({uiState:f,setUiState:function(d){vr(typeof d=="function"?d(f):d,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(vr(f,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(ce("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(ce("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r})(xu),Lc=Na(),kc={};function Ye(e){"@babel/helpers - typeof";return Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(e)}function pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pi(Object(r),!0).forEach(function(n){Wc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wc(e,t,r){return(t=Uc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uc(e){var t=Mc(e,"string");return Ye(t)=="symbol"?t:t+""}function Mc(e,t){if(Ye(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ye(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vi=["react (".concat(W.version,")"),"react-instantsearch (".concat(mr,")"),"react-instantsearch-core (".concat(mr,")")],yi="react-instantsearch-server (".concat(mr,")"),Qc=function(t){return t?"next.js (".concat(t,")"):null};function qc(e){var t=wu(),r=ua(),n=ca(),i=fa(),a=i.waitForResultsRef,u=n?.initialResults,f=W.useRef(e),h=r||u||a,d=W.useRef(null);if(n!=null&&n.ssrSearchRef&&(d=n.ssrSearchRef),d.current===null){var p=new Dc(e);p._schedule=function(l){p._schedule.queue.push(l),clearTimeout(p._schedule.timer),p._schedule.timer=setTimeout(function(){p._schedule.queue.forEach(function(g){g()}),p._schedule.queue=[]},0)},p._schedule.queue=[],h&&(p._initialResults=u||{},p._manuallyResetScheduleSearch=!0),bi(e.searchClient,[].concat(vi,[r&&yi,Qc(Bc())])),h&&p.start(),r&&r.notifyServer({search:p}),e.routing,d.current=p}{var y=d.current,c=f.current;if(c.indexName!==e.indexName&&(y.helper.setIndex(e.indexName||"").search(),f.current=e),c.searchClient!==e.searchClient&&(bi(e.searchClient,[].concat(vi,[r&&yi])),y.mainHelper.setClient(e.searchClient).search(),f.current=e),c.onStateChange!==e.onStateChange&&(y.onStateChange=e.onStateChange,f.current=e),c.searchFunction!==e.searchFunction&&(y._searchFunction=e.searchFunction,f.current=e),c.stalledSearchDelay!==e.stalledSearchDelay){var s;y._stalledSearchDelay=(s=e.stalledSearchDelay)!==null&&s!==void 0?s:200,f.current=e}je(c.future,e.future)||(y.future=gi(gi({},wa),e.future),f.current=e)}var o=W.useRef(null),m=Lc.useSyncExternalStore(W.useCallback(function(){var v=d.current;return o.current===null?v.started||(v.start(),t()):(clearTimeout(o.current),v._preventWidgetCleanup=!1),function(){if(n!=null&&n.ssrSearchRef)return;function l(){v.dispose()}clearTimeout(v._schedule.timer),o.current=setTimeout(l),v._preventWidgetCleanup=!0}},[t,n]),function(){return d.current},function(){return d.current});return m}function bi(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(r){e.addAlgoliaAgent(r)})}function Bc(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=kc)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var Vc=["children"];function Kc(e,t){if(e==null)return{};var r,n,i=zc(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zc(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vh(e){var t=e.children,r=Kc(e,Vc),n=qc(r);return n.started?N.createElement(oa.Provider,{value:n},N.createElement(aa.Provider,{value:n.mainIndex},t,N.createElement(Jc,{search:n}))):null}function Jc(e){var t=e.search;return W.useEffect(function(){t._resetScheduleSearch&&t._resetScheduleSearch()},[t]),null}function Ze(e){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(e)}function Gc(e){return el(e)||Zc(e)||Yc(e)||Xc()}function Xc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yc(e,t){if(e){if(typeof e=="string")return xr(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xr(e,t):void 0}}function Zc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function el(e){if(Array.isArray(e))return xr(e)}function xr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Si(Object(r),!0).forEach(function(n){tl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tl(e,t,r){return(t=rl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rl(e){var t=nl(e,"string");return Ze(t)=="symbol"?t:t+""}function nl(e,t){if(Ze(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ze(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri=pe({name:"clear-refinements",connector:!0}),il=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;return _e(t,Ri()),function(n){var i=n||{},a=i.includedAttributes,u=a===void 0?[]:a,f=i.excludedAttributes,h=f===void 0?["query"]:f,d=i.transformItems,p=d===void 0?function(o){return o}:d;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(Ri("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var y={refine:Y,createURL:function(){return""},attributesToClear:[]},c=function(){return y.refine()},s=function(){return y.createURL()};return{$$type:"ais.clearRefinements",init:function(m){var v=m.instantSearchInstance;t(ve(ve({},this.getWidgetRenderState(m)),{},{instantSearchInstance:v}),!0)},render:function(m){var v=m.instantSearchInstance;t(ve(ve({},this.getWidgetRenderState(m)),{},{instantSearchInstance:v}),!1)},dispose:function(){r()},getRenderState:function(m,v){return ve(ve({},m),{},{clearRefinements:this.getWidgetRenderState(v)})},getWidgetRenderState:function(m){var v=m.createURL,l=m.scopedResults,g=m.results;y.attributesToClear=l.reduce(function(P,R){return P.concat(al({scopedResult:R,includedAttributes:u,excludedAttributes:h,transformItems:p,results:g}))},[]),y.refine=function(){y.attributesToClear.forEach(function(P){var R=P.helper,j=P.items;R.setState(Sn({helper:R,attributesToClear:j})).search()})},y.createURL=function(){return v(na.apply(void 0,Gc(y.attributesToClear.map(function(P){var R=P.helper,j=P.items;return Sn({helper:R,attributesToClear:j})}))))};var b=y.attributesToClear.some(function(P){return P.items.length>0});return{canRefine:b,hasRefinements:b,refine:c,createURL:s,widgetParams:n}}}}};function al(e){var t=e.scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,a=e.results,u=r.indexOf("query")!==-1||n.indexOf("query")===-1;return{helper:t.helper,items:i(ra(Qs(t.results,t.helper.state,u).map(function(f){return f.attribute}).filter(function(f){return r.length===0||r.indexOf(f)!==-1}).filter(function(f){return f==="query"&&u||n.indexOf(f)===-1})),{results:a})}}function yh(e,t){return xe(il,e,t)}function et(e){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(e)}function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pi(Object(r),!0).forEach(function(n){_a(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _a(e,t,r){return(t=sl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sl(e){var t=ol(e,"string");return et(t)=="symbol"?t:t+""}function ol(e,t){if(et(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(et(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ul=pe({name:"hits",connector:!0});const cl=(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;return _e(t,ul()),function(n){var i=n||{},a=i.escapeHTML,u=a===void 0?!0:a,f=i.transformItems,h=f===void 0?function(y){return y}:f,d,p;return{$$type:"ais.hits",init:function(c){t(fe(fe({},this.getWidgetRenderState(c)),{},{instantSearchInstance:c.instantSearchInstance}),!0)},render:function(c){var s=this.getWidgetRenderState(c);t(fe(fe({},s),{},{instantSearchInstance:c.instantSearchInstance}),!1),s.sendEvent("view:internal",s.items)},getRenderState:function(c,s){return fe(fe({},c),{},{hits:this.getWidgetRenderState(s)})},getWidgetRenderState:function(c){var s,o,m,v=c.results,l=c.helper,g=c.instantSearchInstance;if(d||(d=As({instantSearchInstance:g,helper:l,widgetType:this.$$type})),p||(p=Cs({helper:l,widgetType:this.$$type,instantSearchInstance:g})),!v)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:d,bindEvent:p,widgetParams:n};u&&v.hits.length>0&&(v.hits=fs(v.hits));var b=Ks(v.hits,v.page,v.hitsPerPage),P=Xs(b,v.queryID),R=h(P,{results:v}),j=(s=v.renderingContent)===null||s===void 0||(o=s.widgets)===null||o===void 0||(m=o.banners)===null||m===void 0?void 0:m[0];return{hits:R,items:R,results:v,banner:j,sendEvent:d,bindEvent:p,widgetParams:n}},dispose:function(c){var s=c.state;return r(),u?s.setQueryParameters(Object.keys(Re).reduce(function(o,m){return fe(fe({},o),{},_a({},m,void 0))},{})):s},getWidgetSearchParameters:function(c,s){return u?c.setQueryParameters(Re):c}}}});function ll(e,t){return xe(cl,e,t)}function tt(e){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(e)}function fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xa(n.key),n)}}function dl(e,t,r){return t&&hl(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fr(e,t,r){return(t=xa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xa(e){var t=ml(e,"string");return tt(t)=="symbol"?t:t+""}function ml(e,t){if(tt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl=(function(){function e(t){fl(this,e),fr(this,"currentPage",void 0),fr(this,"total",void 0),fr(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return dl(e,[{key:"pages",value:function(){var r=this.total,n=this.currentPage,i=this.padding;if(r===0)return[0];var a=this.nbPagesDisplayed(i,r);if(a===r)return Dn({end:r});var u=this.calculatePaddingLeft(n,i,r,a),f=a-u,h=n-u,d=n+f;return Dn({start:h,end:d})}},{key:"nbPagesDisplayed",value:function(r,n){return Math.min(2*r+1,n)}},{key:"calculatePaddingLeft",value:function(r,n,i,a){return r<=n?r:r>=i-n?a-(i-r):n}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e})();function rt(e){"@babel/helpers - typeof";return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(e)}function Oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oi(Object(r),!0).forEach(function(n){gl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gl(e,t,r){return(t=vl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vl(e){var t=yl(e,"string");return rt(t)=="symbol"?t:t+""}function yl(e,t){if(rt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bl=pe({name:"pagination",connector:!0}),Sl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;return _e(t,bl()),function(n){var i=n||{},a=i.totalPages,u=i.padding,f=u===void 0?3:u,h=new pl({currentPage:0,total:0,padding:f}),d={};function p(y){var c=y.nbPages;return a!==void 0?Math.min(a,c):c}return{$$type:"ais.pagination",init:function(c){var s=c.instantSearchInstance;t(ae(ae({},this.getWidgetRenderState(c)),{},{instantSearchInstance:s}),!0)},render:function(c){var s=c.instantSearchInstance;t(ae(ae({},this.getWidgetRenderState(c)),{},{instantSearchInstance:s}),!1)},dispose:function(c){var s=c.state;return r(),s.setQueryParameter("page",void 0)},getWidgetUiState:function(c,s){var o=s.searchParameters,m=o.page||0;return m?ae(ae({},c),{},{page:m+1}):c},getWidgetSearchParameters:function(c,s){var o=s.uiState,m=o.page?o.page-1:0;return c.setQueryParameter("page",m)},getWidgetRenderState:function(c){var s=c.results,o=c.helper,m=c.state,v=c.createURL;d.refine||(d.refine=function(b){o.setPage(b),o.search()}),d.createURL||(d.createURL=function(b){return v(function(P){return ae(ae({},P),{},{page:b+1})})});var l=m.page||0,g=p(s||{nbPages:0});return h.currentPage=l,h.total=g,{createURL:d.createURL,refine:d.refine,canRefine:g>1,currentRefinement:l,nbHits:s?.nbHits||0,nbPages:g,pages:s?h.pages():[],isFirstPage:h.isFirstPage(),isLastPage:h.isLastPage(),widgetParams:n}},getRenderState:function(c,s){return ae(ae({},c),{},{pagination:this.getWidgetRenderState(s)})}}}};function Rl(e,t){return xe(Sl,e,t)}function nt(e){"@babel/helpers - typeof";return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(e)}var Pl=["name","escapedValue"],Ol=["escapedValue","value"];function ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ji(Object(r),!0).forEach(function(n){Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ne(e,t,r){return(t=jl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jl(e){var t=wl(e,"string");return nt(t)=="symbol"?t:t+""}function wl(e,t){if(nt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wi(e,t){if(e==null)return{};var r,n,i=_l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _l(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gt=pe({name:"refinement-list",connector:!0}),_i=["isRefined","count:desc","name:asc"],xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;return _e(t,gt()),function(n){var i=n||{},a=i.attribute,u=i.operator,f=u===void 0?"or":u,h=i.limit,d=h===void 0?10:h,p=i.showMore,y=p===void 0?!1:p,c=i.showMoreLimit,s=c===void 0?20:c,o=i.sortBy,m=o===void 0?_i:o,v=i.escapeFacetValues,l=v===void 0?!0:v,g=i.transformItems,b=g===void 0?function(T){return T}:g;if(!a)throw new Error(gt("The `attribute` option is required."));if(!/^(and|or)$/.test(f))throw new Error(gt('The `operator` must one of: `"and"`, `"or"` (got "'.concat(f,'").')));if(y===!0&&s<=d)throw new Error(gt("`showMoreLimit` should be greater than `limit`."));var P=function($){var I=$.name,A=$.escapedValue,D=wi($,Pl);return J(J({},D),{},{value:A,label:I,highlighted:I})},R,j=[],_=!0,S,O,w=!1,x=function(){};function F(){x()}function E(T,$){return function(){w=!w,$.render(T)}}function H(){return w?s:d}var U=function(){return function(){}},C=function($,I){return function(A){return function(D){var Q=A.instantSearchInstance,q=A.results;if(D===""&&j)t(J(J({},I.getWidgetRenderState(J(J({},A),{},{results:R}))),{},{instantSearchInstance:Q}),!1);else{var G={highlightPreTag:l?Re.highlightPreTag:Z.highlightPreTag,highlightPostTag:l?Re.highlightPostTag:Z.highlightPostTag};$.searchForFacetValues(a,D,Math.min(H(),100),G).then(function(L){var M=l?hs(L.facetHits):L.facetHits,z=b(M.map(function(V){var X=V.escapedValue,te=V.value,ie=wi(V,Ol);return J(J({},ie),{},{value:X,label:te})}),{results:q});t(J(J({},I.getWidgetRenderState(J(J({},A),{},{results:R}))),{},{items:z,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:Q}),!1)})}}}};return{$$type:"ais.refinementList",init:function($){t(J(J({},this.getWidgetRenderState($)),{},{instantSearchInstance:$.instantSearchInstance}),!0)},render:function($){t(J(J({},this.getWidgetRenderState($)),{},{instantSearchInstance:$.instantSearchInstance}),!1)},getRenderState:function($,I){return J(J({},$),{},{refinementList:J(J({},$.refinementList),{},Ne({},a,this.getWidgetRenderState(I)))})},getWidgetRenderState:function($){var I=this,A=$.results,D=$.state,Q=$.createURL,q=$.instantSearchInstance,G=$.helper,L=[],M=[];if((!O||!S||!U)&&(O=Os({instantSearchInstance:q,helper:G,attribute:a,widgetType:this.$$type}),S=function(ht){O("click:internal",ht),G.toggleFacetRefinement(a,ht).search()},U=C(G,this)),A){var z=A.getFacetValues(a,{sortBy:m,facetOrdering:m===_i});M=z&&Array.isArray(z)?z:[],L=b(M.slice(0,H()).map(P),{results:A});var V=D.maxValuesPerFacet,X=H();_=V>X?M.length<=X:M.length<X,R=A,j=L,$.results&&(x=E($,this))}var te=U&&U($),ie=w&&j.length>d,jt=y&&!_,Ia=ie||jt;return{createURL:function(ht){return Q(function(Aa){return I.getWidgetUiState(Aa,{searchParameters:D.resetPage().toggleFacetRefinement(a,ht),helper:G})})},items:L,refine:S,searchForItems:te,isFromSearch:!1,canRefine:L.length>0,widgetParams:n,isShowingMore:w,canToggleShowMore:Ia,toggleShowMore:F,sendEvent:O,hasExhaustiveItems:_}},dispose:function($){var I=$.state;r();var A=I.setQueryParameter("maxValuesPerFacet",void 0);return f==="and"?A.removeFacet(a):A.removeDisjunctiveFacet(a)},getWidgetUiState:function($,I){var A=I.searchParameters,D=f==="or"?A.getDisjunctiveRefinements(a):A.getConjunctiveRefinements(a);return Fl(J(J({},$),{},{refinementList:J(J({},$.refinementList),{},Ne({},a,D))}),a)},getWidgetSearchParameters:function($,I){var A=I.uiState,D=f==="or";if($.isHierarchicalFacet(a)||D&&$.isConjunctiveFacet(a)||!D&&$.isDisjunctiveFacet(a))return $;var Q=A.refinementList&&A.refinementList[a],q=D?$.addDisjunctiveFacet(a).removeDisjunctiveFacetRefinement(a):$.addFacet(a).removeFacetRefinement(a),G=q.maxValuesPerFacet||0,L=Math.max(G,y?s:d),M=q.setQueryParameter("maxValuesPerFacet",L);if(!Q){var z=D?"disjunctiveFacetsRefinements":"facetsRefinements";return M.setQueryParameters(Ne({},z,J(J({},M[z]),{},Ne({},a,[]))))}return Q.reduce(function(V,X){return D?V.addDisjunctiveFacetRefinement(a,X):V.addFacetRefinement(a,X)},M)}}}};function Fl(e,t){return e.refinementList&&((!e.refinementList[t]||e.refinementList[t].length===0)&&delete e.refinementList[t],Object.keys(e.refinementList).length===0&&delete e.refinementList),e}function El(e,t){return xe(xl,e,t)}function it(e){"@babel/helpers - typeof";return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(e)}function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xi(Object(r),!0).forEach(function(n){$l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $l(e,t,r){return(t=Il(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Il(e){var t=Tl(e,"string");return it(t)=="symbol"?t:t+""}function Tl(e,t){if(it(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(it(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Al=pe({name:"search-box",connector:!0}),Cl=function(t,r){return r(t)},Nl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;return _e(t,Al()),function(n){var i=n||{},a=i.queryHook,u=a===void 0?Cl:a,f,h;return{$$type:"ais.searchBox",init:function(p){var y=p.instantSearchInstance;t(he(he({},this.getWidgetRenderState(p)),{},{instantSearchInstance:y}),!0)},render:function(p){var y=p.instantSearchInstance;t(he(he({},this.getWidgetRenderState(p)),{},{instantSearchInstance:y}),!1)},dispose:function(p){var y=p.state;return r(),y.setQueryParameter("query",void 0)},getRenderState:function(p,y){return he(he({},p),{},{searchBox:this.getWidgetRenderState(y)})},getWidgetRenderState:function(p){var y=p.helper,c=p.instantSearchInstance,s=p.state;return f||(f=function(m){u(m,function(v){return y.setQuery(v).search()})},h=function(){y.setQuery("").search()}),{query:s.query||"",refine:f,clear:h,widgetParams:n,isSearchStalled:c.status==="stalled"}},getWidgetUiState:function(p,y){var c=y.searchParameters,s=c.query||"";return s===""||p&&p.query===s?p:he(he({},p),{},{query:s})},getWidgetSearchParameters:function(p,y){var c=y.uiState;return p.setQueryParameter("query",c.query||"")}}}};function Hl(e,t){return xe(Nl,e,t)}function at(e){"@babel/helpers - typeof";return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(e)}function Fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fi(Object(r),!0).forEach(function(n){Dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dl(e,t,r){return(t=Ll(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ll(e){var t=kl(e,"string");return at(t)=="symbol"?t:t+""}function kl(e,t){if(at(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(at(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Te=pe({name:"sort-by",connector:!0});function Qr(e){return"strategy"in e&&e.strategy!==void 0}function hr(e){return Qr(e)?e.strategy:e.value}function dr(e,t){if(!t)return!1;var r=e[t];return r!==void 0&&Qr(r)}var Wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y;_e(t,Te());var n={};return function(i){var a=i||{},u=a.items,f=a.transformItems,h=f===void 0?function(p){return p}:f;if(!Array.isArray(u))throw new Error(Te("The `items` option expects an array of objects."));var d={};return u.forEach(function(p,y){var c="value"in p&&p.value!==void 0,s="strategy"in p&&p.strategy!==void 0;if(c&&s)throw new Error(Te("Item at index ".concat(y,' cannot have both "value" and "strategy" properties.')));if(!c&&!s)throw new Error(Te("Item at index ".concat(y,' must have either a "value" or "strategy" property.')));var o=hr(p);d[o]=p}),n.itemsLookup=d,{$$type:"ais.sortBy",init:function(y){var c=y.instantSearchInstance,s=u.some(function(v){return"strategy"in v&&v.strategy});if(s&&!c.compositionID)throw new Error(Te('Sorting strategies can only be used in composition mode. Please provide a "compositionID" to your InstantSearch instance.'));var o=this.getWidgetRenderState(y),m=o.currentRefinement;De(u,function(v){return hr(v)===m}),t(de(de({},o),{},{instantSearchInstance:c}),!0)},render:function(y){var c=y.instantSearchInstance;t(de(de({},this.getWidgetRenderState(y)),{},{instantSearchInstance:c}),!1)},dispose:function(y){var c=y.state;return r(),n.isUsingComposition&&c.sortBy&&(c=c.setQueryParameter("sortBy",void 0)),n.initialValue&&c.index!==n.initialValue?c.setIndex(n.initialValue):c},getRenderState:function(y,c){return de(de({},y),{},{sortBy:this.getWidgetRenderState(c)})},getWidgetRenderState:function(y){var c=y.results,s=y.helper,o=y.state,m=y.parent,v=y.instantSearchInstance;!n.initialValue&&m&&(n.initialValue=m.getIndexName()),n.refine||(n.isUsingComposition=!!v?.compositionID,n.refine=function(R){var j=n.itemsLookup[R];j&&Qr(j)?s.setQueryParameter("sortBy",j.strategy).search():s.setQueryParameter("sortBy",void 0).setIndex(R).search()});var l=h(u,{results:c}),g=l.map(function(R){return{label:R.label,value:hr(R)}}),b=n.isUsingComposition&&dr(n.itemsLookup,o.sortBy)?o.sortBy:o.index,P=c?c.nbHits===0:!0;return{currentRefinement:b,options:g,refine:n.refine,hasNoResults:P,canRefine:!P&&u.length>0,widgetParams:i}},getWidgetUiState:function(y,c){var s=c.searchParameters,o=n.isUsingComposition&&dr(n.itemsLookup,s.sortBy)?s.sortBy:s.index;return de(de({},y),{},{sortBy:o!==n.initialValue?o:void 0})},getWidgetSearchParameters:function(y,c){var s=c.uiState,o=s.sortBy||n.initialValue||y.index;if(dr(n.itemsLookup,o)){var m=n.itemsLookup[o];return y.setQueryParameter("sortBy",m.strategy)}return y.setQueryParameter("index",o)}}}};function bh(e,t){return xe(Wl,e,t)}function Ul(e,t){return Bl(e)||ql(e,t)||Ql(e,t)||Ml()}function Ml(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ql(e,t){if(e){if(typeof e=="string")return Ei(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ei(e,t):void 0}}function Ei(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ql(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function Bl(e){if(Array.isArray(e))return e}function Vl(){var e=ft(),t=Ur(),r=W.useState(function(){var u=Sr(t);return{results:u.results,scopedResults:u.scopedResults}}),n=Ul(r,2),i=n[0],a=n[1];return W.useEffect(function(){function u(){var f=t.getResults();if(f!==null)a({results:f,scopedResults:t.getScopedResults()});else if(e.mainIndex.getIndexName().length===0){var h=e.mainIndex.getWidgets().find(ne);h&&a({results:Sr(t).results,scopedResults:h.getScopedResults()})}}return e.addListener("render",u),u(),function(){e.removeListener("render",u)}},[e,t]),i}function $i(e,t){return Gl(e)||Jl(e,t)||zl(e,t)||Kl()}function Kl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zl(e,t){if(e){if(typeof e=="string")return Ii(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ii(e,t):void 0}}function Ii(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Jl(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function Gl(e){if(Array.isArray(e))return e}function Xl(){var e=ft(),t=Ur(),r=t.getIndexId(),n=W.useState(function(){return e.getUiState()}),i=$i(n,2),a=i[0],u=i[1],f=a[r],h=W.useState(function(){return e.renderState}),d=$i(h,2),p=d[0],y=d[1],c=p[r]||{},s=W.useCallback(function(m){e.setUiState(m)},[e]),o=W.useCallback(function(m){t.setIndexUiState(m)},[t]);return W.useEffect(function(){function m(){u(e.getUiState()),y(e.renderState)}return e.addListener("render",m),m(),function(){e.removeListener("render",m)}},[e]),{uiState:a,setUiState:s,indexUiState:f,setIndexUiState:o,renderState:p,indexRenderState:c}}function Sh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.catchError,r=ft(),n=Xl(),i=n.uiState,a=n.setUiState,u=n.indexUiState,f=n.setIndexUiState,h=n.renderState,d=n.indexRenderState,p=Vl(),y=p.results,c=p.scopedResults,s=W.useCallback(function(){for(var m=arguments.length,v=new Array(m),l=0;l<m;l++)v[l]=arguments[l];return r.use.apply(r,v),function(){r.unuse.apply(r,v)}},[r]),o=W.useCallback(function(){r.refresh()},[r]);return la(function(){if(t){var m=function(){};return r.addListener("error",m),function(){return r.removeListener("error",m)}}return function(){}},[r,t]),{results:y,scopedResults:c,uiState:i,setUiState:a,indexUiState:u,setIndexUiState:f,renderState:h,indexRenderState:d,addMiddlewares:s,refresh:o,status:r.status,error:r.error}}function bt(){return bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bt.apply(null,arguments)}function Yl(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fa(e,t){if(e==null)return{};var r,n,i=Yl(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(n,i){return Array.isArray(i)?n.concat(i):n.concat([i])},[]).filter(Boolean).join(" ")}var Zl=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function ef(e){var t=e.createElement;return function(n){var i=n.classNames,a=n.children,u=n.highlightedTagName,f=n.isHighlighted,h=n.nonHighlightedTagName,d=f?u:h;return t(d,{className:f?i.highlighted:i.nonHighlighted},a)}}function tf(e){var t=e.createElement,r=e.Fragment,n=ef({createElement:t});return function(a){var u=a.parts,f=a.highlightedTagName,h=f===void 0?"mark":f,d=a.nonHighlightedTagName,p=d===void 0?"span":d,y=a.separator,c=y===void 0?", ":y,s=a.className,o=a.classNames,m=o===void 0?{}:o,v=Fa(a,Zl);return t("span",bt({},v,{className:k(m.root,s)}),u.map(function(l,g){var b=g===u.length-1;return t(r,{key:g},l.map(function(P,R){return t(n,{key:R,classNames:m,highlightedTagName:h,nonHighlightedTagName:p,isHighlighted:P.isHighlighted},P.value)}),!b&&t("span",{className:m.separator},c))}))}}var rf=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function nf(e){var t=e.createElement;return function(n){var i=n.classNames,a=n.banner;return a.image.urls[0].url?t("aside",{className:k("ais-Hits-banner",i.bannerRoot)},a.link?t("a",{className:k("ais-Hits-banner-link",i.bannerLink),href:a.link.url,target:a.link.target},t("img",{className:k("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):t("img",{className:k("ais-Hits-banner-image",i.bannerImage),src:a.image.urls[0].url,alt:a.image.title})):null}}function af(e){var t=e.createElement,r=nf({createElement:t});return function(i){var a=i.classNames,u=a===void 0?{}:a,f=i.hits,h=i.itemComponent,d=i.sendEvent,p=i.emptyComponent,y=i.banner,c=i.bannerComponent,s=Fa(i,rf);return t("div",bt({},s,{className:k("ais-Hits",u.root,f.length===0&&k("ais-Hits--empty",u.emptyRoot),s.className)}),y&&(c?t(c,{className:k("ais-Hits-banner",u.bannerRoot),banner:y}):t(r,{classNames:u,banner:y})),f.length===0&&p?t(p,null):t("ol",{className:k("ais-Hits-list",u.list)},f.map(function(o,m){return t(h,{key:o.objectID,hit:o,index:m,className:k("ais-Hits-item",u.item),onClick:function(){d("click:internal",o,"Hit Clicked")},onAuxClick:function(){d("click:internal",o,"Hit Clicked")}})})))}}var sf=tf({createElement:W.createElement,Fragment:W.Fragment});function of(e){var t=e.button===1;return!!(t||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}var uf=["isShowingMore","translations"];function cf(e,t){if(e==null)return{};var r,n,i=lf(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lf(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ff(e){var t=e.isShowingMore,r=e.translations,n=cf(e,uf);return N.createElement("button",n,r.showMoreButtonText({isShowingMore:t}))}var hf=["classNames"];function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fr.apply(null,arguments)}function df(e,t){if(e==null)return{};var r,n,i=mf(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mf(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pf(e){var t=e.classNames,r=t===void 0?{}:t,n=df(e,hf);return N.createElement(sf,Fr({classNames:{root:k("ais-Highlight",r.root),highlighted:k("ais-Highlight-highlighted",r.highlighted),nonHighlighted:k("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:k("ais-Highlight-separator",r.separator)}},n))}var gf=["escapeHTML","transformItems","hitComponent","bannerComponent"],vf=["hit","index"];function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},St.apply(null,arguments)}function Ti(e,t){if(e==null)return{};var r,n,i=yf(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yf(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bf(e){var t=e.hit;return N.createElement("div",{style:{wordBreak:"break-all"}},JSON.stringify(t).slice(0,100),"")}var Sf=af({createElement:W.createElement});function Rh(e){var t=e.escapeHTML,r=e.transformItems,n=e.hitComponent,i=n===void 0?bf:n,a=e.bannerComponent,u=Ti(e,gf),f=ll({escapeHTML:t,transformItems:r},{$$widgetType:"ais.hits"}),h=f.hits,d=f.banner,p=f.sendEvent,y=W.useMemo(function(){return function(o){var m=o.hit;o.index;var v=Ti(o,vf);return N.createElement("li",St({key:m.objectID},v),N.createElement(i,{hit:m,sendEvent:p}))}},[i,p]),c=a===!1?function(){return null}:a,s={hits:h,sendEvent:p,itemComponent:y,banner:d,bannerComponent:c};return N.createElement(Sf,St({},u,s))}var Rf=["pages","currentPage","nbPages","isFirstPage","isLastPage","showFirst","showPrevious","showNext","showLast","createURL","onNavigate","translations","classNames"],Pf=["isDisabled","className","classNames","href","onClick"];function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},st.apply(null,arguments)}function Ea(e,t){if(e==null)return{};var r,n,i=Of(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Of(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jf(e){var t=e.pages,r=e.currentPage,n=e.nbPages,i=e.isFirstPage,a=e.isLastPage,u=e.showFirst,f=u===void 0?!0:u,h=e.showPrevious,d=h===void 0?!0:h,p=e.showNext,y=p===void 0?!0:p,c=e.showLast,s=c===void 0?!0:c,o=e.createURL,m=e.onNavigate,v=e.translations,l=e.classNames,g=l===void 0?{}:l,b=Ea(e,Rf),P=0,R=r-1,j=r+1,_=n-1;return N.createElement("div",st({},b,{className:k("ais-Pagination",g.root,n<=1&&k("ais-Pagination--noRefinement",g.noRefinementRoot),b.className)}),N.createElement("ul",{className:k("ais-Pagination-list",g.list)},f&&N.createElement(Ae,{isDisabled:i,className:k("ais-Pagination-item--firstPage",g.firstPageItem),classNames:g,"aria-label":v.firstPageItemAriaLabel,href:o(P),onClick:function(){return m(P)}},v.firstPageItemText),d&&N.createElement(Ae,{isDisabled:i,className:k("ais-Pagination-item--previousPage",g.previousPageItem),classNames:g,"aria-label":v.previousPageItemAriaLabel,href:o(R),onClick:function(){return m(R)}},v.previousPageItemText),t.map(function(S){return N.createElement(Ae,{key:S,isDisabled:!1,className:k("ais-Pagination-item--page",g.pageItem,S===r&&k("ais-Pagination-item--selected",g.selectedItem)),classNames:g,"aria-label":v.pageItemAriaLabel({currentPage:S+1,nbPages:n}),href:o(S),onClick:function(){return m(S)}},v.pageItemText({currentPage:S+1,nbPages:n}))}),y&&N.createElement(Ae,{isDisabled:a,className:k("ais-Pagination-item--nextPage",g.nextPageItem),classNames:g,"aria-label":v.nextPageItemAriaLabel,href:o(j),onClick:function(){return m(j)}},v.nextPageItemText),s&&N.createElement(Ae,{isDisabled:a,className:k("ais-Pagination-item--lastPage",g.lastPageItem),classNames:g,"aria-label":v.lastPageItemAriaLabel,href:o(_),onClick:function(){return m(_)}},v.lastPageItemText)))}function Ae(e){var t=e.isDisabled,r=e.className,n=e.classNames,i=e.href,a=e.onClick,u=Ea(e,Pf);return t?N.createElement("li",{className:k("ais-Pagination-item",n.item,"ais-Pagination-item--disabled",n.disabledItem,r)},N.createElement("span",st({className:k("ais-Pagination-link",n.link)},u))):N.createElement("li",{className:k("ais-Pagination-item",n.item,r)},N.createElement("a",st({className:k("ais-Pagination-link",n.link),href:i,onClick:function(h){of(h)||(h.preventDefault(),a(h))}},u)))}function ot(e){"@babel/helpers - typeof";return ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(e)}var wf=["showFirst","showPrevious","showNext","showLast","padding","totalPages","translations"];function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Er.apply(null,arguments)}function Ai(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ai(Object(r),!0).forEach(function(n){xf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ai(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xf(e,t,r){return(t=Ff(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ff(e){var t=Ef(e,"string");return ot(t)=="symbol"?t:t+""}function Ef(e,t){if(ot(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ot(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(e,t){if(e==null)return{};var r,n,i=If(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function If(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ph(e){var t=e.showFirst,r=e.showPrevious,n=e.showNext,i=e.showLast,a=e.padding,u=e.totalPages,f=e.translations,h=$f(e,wf),d=Rl({padding:a,totalPages:u},{$$widgetType:"ais.pagination"}),p=d.pages,y=d.currentRefinement,c=d.isFirstPage,s=d.isLastPage,o=d.nbPages,m=d.createURL,v=d.refine,l={pages:p,currentPage:y,isFirstPage:c,isLastPage:s,nbPages:o,createURL:m,onNavigate:v,translations:_f({firstPageItemText:"",previousPageItemText:"",nextPageItemText:"",lastPageItemText:"",pageItemText:function(b){var P=b.currentPage;return String(P)},firstPageItemAriaLabel:"First Page",previousPageItemAriaLabel:"Previous Page",nextPageItemAriaLabel:"Next Page",lastPageItemAriaLabel:"Last Page, Page ".concat(o),pageItemAriaLabel:function(b){var P=b.currentPage;return"Page ".concat(P)}},f)};return N.createElement(jf,Er({},h,l,{showFirst:t,showPrevious:r,showNext:n,showLast:i}))}var Tf=["canRefine","items","onRefine","query","searchBox","noResults","showMore","canToggleShowMore","onToggleShowMore","isShowingMore","className","classNames","translations"];function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$r.apply(null,arguments)}function Af(e,t){if(e==null)return{};var r,n,i=Cf(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cf(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nf(e){e.canRefine;var t=e.items,r=e.onRefine,n=e.query,i=e.searchBox,a=e.noResults,u=e.showMore,f=e.canToggleShowMore,h=e.onToggleShowMore,d=e.isShowingMore,p=e.className,y=e.classNames,c=y===void 0?{}:y,s=e.translations,o=Af(e,Tf);return N.createElement("div",$r({},o,{className:k("ais-RefinementList",c.root,t.length===0&&k("ais-RefinementList--noRefinement",c.noRefinementRoot),p)}),i&&N.createElement("div",{className:k("ais-RefinementList-searchBox",c.searchBox)},i),a?N.createElement("div",{className:k("ais-RefinementList-noResults",c.noResults)},a):N.createElement("ul",{className:k("ais-RefinementList-list",c.list)},t.map(function(m){return N.createElement("li",{key:m.value,className:k("ais-RefinementList-item",c.item,m.isRefined&&k("ais-RefinementList-item--selected",c.selectedItem))},N.createElement("label",{className:k("ais-RefinementList-label",c.label)},N.createElement("input",{checked:m.isRefined,className:k("ais-RefinementList-checkbox",c.checkbox),type:"checkbox",value:m.value,onChange:function(){r(m)}}),N.createElement("span",{className:k("ais-RefinementList-labelText",c.labelText)},n.length>0?N.createElement(pf,{parts:[Wr(zi(m.highlighted||""))]}):m.label),N.createElement("span",{className:k("ais-RefinementList-count",c.count)},m.count)))})),u&&N.createElement(ff,{className:k("ais-RefinementList-showMore",c.showMore,!f&&k("ais-RefinementList-showMore--disabled",c.disabledShowMore)),disabled:!f,onClick:h,isShowingMore:d,translations:s}))}var Hf=["formRef","inputRef","inputProps","isSearchStalled","onChange","onReset","onSubmit","placeholder","value","autoFocus","resetIconComponent","submitIconComponent","loadingIconComponent","classNames","translations"];function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rt.apply(null,arguments)}function Df(e,t){if(e==null)return{};var r,n,i=Lf(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lf(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kf=N.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"});function Wf(e){var t=e.classNames;return N.createElement("svg",{className:k("ais-SearchBox-submitIcon",t.submitIcon),width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},kf)}var Uf=N.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"});function Mf(e){var t=e.classNames;return N.createElement("svg",{className:k("ais-SearchBox-resetIcon",t.resetIcon),viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},Uf)}var Qf=N.createElement("g",{fill:"none",fillRule:"evenodd"},N.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},N.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),N.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},N.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));function qf(e){var t=e.classNames;return N.createElement("svg",{"aria-label":"Results are loading",width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444",className:k("ais-SearchBox-loadingIcon",t.loadingIcon),"aria-hidden":"true"},Qf)}function $a(e){var t=e.formRef,r=e.inputRef,n=e.inputProps,i=e.isSearchStalled,a=e.onChange,u=e.onReset,f=e.onSubmit,h=e.placeholder,d=h===void 0?"":h,p=e.value,y=e.autoFocus,c=e.resetIconComponent,s=c===void 0?Mf:c,o=e.submitIconComponent,m=o===void 0?Wf:o,v=e.loadingIconComponent,l=v===void 0?qf:v,g=e.classNames,b=g===void 0?{}:g,P=e.translations,R=Df(e,Hf);function j(S){S.preventDefault(),S.stopPropagation(),f&&f(S),r.current&&r.current.blur()}function _(S){S.preventDefault(),S.stopPropagation(),u(S),r.current&&r.current.focus()}return N.createElement("div",Rt({},R,{className:k("ais-SearchBox",b.root,R.className)}),N.createElement("form",{ref:t,action:"",className:k("ais-SearchBox-form",b.form),noValidate:!0,onSubmit:j,onReset:_,role:"search"},N.createElement("input",Rt({},n,{ref:r,className:k("ais-SearchBox-input",b.input,n?.className),"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",placeholder:d,spellCheck:!1,maxLength:512,type:"search",value:p,onChange:a,onCompositionEnd:a,autoFocus:y})),N.createElement("button",{className:k("ais-SearchBox-submit",b.submit),type:"submit",title:P.submitButtonTitle},N.createElement(m,{classNames:b})),N.createElement("button",{className:k("ais-SearchBox-reset",b.reset),type:"reset",title:P.resetButtonTitle,hidden:p.length===0||i},N.createElement(s,{classNames:b})),N.createElement("span",{className:k("ais-SearchBox-loadingIndicator",b.loadingIndicator),hidden:!i},N.createElement(l,{classNames:b}))))}function ut(e){"@babel/helpers - typeof";return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(e)}var Bf=["searchable","searchablePlaceholder","searchableSelectOnSubmit","attribute","operator","limit","showMore","showMoreLimit","sortBy","escapeFacetValues","transformItems","translations"];function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ir.apply(null,arguments)}function Ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ci(Object(r),!0).forEach(function(n){Kf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kf(e,t,r){return(t=zf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zf(e){var t=Jf(e,"string");return ut(t)=="symbol"?t:t+""}function Jf(e,t){if(ut(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ut(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gf(e,t){return eh(e)||Zf(e,t)||Yf(e,t)||Xf()}function Xf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yf(e,t){if(e){if(typeof e=="string")return Ni(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ni(e,t):void 0}}function Ni(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Zf(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function eh(e){if(Array.isArray(e))return e}function th(e,t){if(e==null)return{};var r,n,i=rh(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rh(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oh(e){var t=e.searchable,r=e.searchablePlaceholder,n=e.searchableSelectOnSubmit,i=n===void 0?!0:n,a=e.attribute,u=e.operator,f=e.limit,h=e.showMore,d=e.showMoreLimit,p=e.sortBy,y=e.escapeFacetValues,c=e.transformItems,s=e.translations,o=th(e,Bf),m=El({attribute:a,operator:u,limit:f,showMore:h,showMoreLimit:d,sortBy:p,escapeFacetValues:y,transformItems:c},{$$widgetType:"ais.refinementList"}),v=m.canRefine,l=m.canToggleShowMore,g=m.isFromSearch,b=m.isShowingMore,P=m.items,R=m.refine,j=m.searchForItems,_=m.toggleShowMore,S=W.useState(""),O=Gf(S,2),w=O[0],x=O[1],F=W.useRef(null);function E(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;x(A),D&&j(A)}function H(A){R(A.value),E("")}function U(A){var D=A.type==="compositionend"||!A.nativeEvent.isComposing;E(A.currentTarget.value,D)}function C(){E("")}function T(){i!==!1&&P.length>0&&(R(P[0].value),E(""))}var $=Vf({resetButtonTitle:"Clear the search query",submitButtonTitle:"Submit the search query",noResultsText:"No results.",showMoreButtonText:function(D){return D.isShowingMore?"Show less":"Show more"}},s),I={items:P,canRefine:v,onRefine:H,query:w,searchBox:t&&N.createElement($a,{inputRef:F,placeholder:r,isSearchStalled:!1,value:w,onChange:U,onReset:C,onSubmit:T,translations:{submitButtonTitle:$.submitButtonTitle,resetButtonTitle:$.resetButtonTitle}}),noResults:t&&g&&P.length===0&&$.noResultsText,canToggleShowMore:l,onToggleShowMore:_,isShowingMore:b,translations:{showMoreButtonText:$.showMoreButtonText}};return N.createElement(Nf,Ir({},o,I,{showMore:h}))}function ct(e){"@babel/helpers - typeof";return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(e)}var nh=["queryHook","searchAsYouType","ignoreCompositionEvents","translations"];function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tr.apply(null,arguments)}function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hi(Object(r),!0).forEach(function(n){ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ah(e,t,r){return(t=sh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sh(e){var t=oh(e,"string");return ct(t)=="symbol"?t:t+""}function oh(e,t){if(ct(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ct(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uh(e,t){return hh(e)||fh(e,t)||lh(e,t)||ch()}function ch(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lh(e,t){if(e){if(typeof e=="string")return Di(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Di(e,t):void 0}}function Di(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fh(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,u,f=[],h=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(h=(n=a.call(r)).done)&&(f.push(n.value),f.length!==t);h=!0);}catch(p){d=!0,i=p}finally{try{if(!h&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}function hh(e){if(Array.isArray(e))return e}function dh(e,t){if(e==null)return{};var r,n,i=mh(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mh(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jh(e){var t=e.queryHook,r=e.searchAsYouType,n=r===void 0?!0:r,i=e.ignoreCompositionEvents,a=i===void 0?!1:i,u=e.translations,f=dh(e,nh),h=Hl({queryHook:t},{$$widgetType:"ais.searchBox"}),d=h.query,p=h.refine,y=h.isSearchStalled,c=W.useState(d),s=uh(c,2),o=s[0],m=s[1],v=W.useRef(null);function l(j){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;m(j),n&&!(a&&_)&&p(j)}function g(){l(""),n||p("")}function b(j){l(j.currentTarget.value,j.nativeEvent.isComposing)}function P(j){n||p(o),f.onSubmit&&f.onSubmit(j)}d!==o&&document.activeElement!==v.current&&m(d);var R={inputRef:v,isSearchStalled:y,onChange:b,onReset:g,onSubmit:P,value:o,translations:ih({submitButtonTitle:"Submit the search query",resetButtonTitle:"Clear the search query"},u)};return N.createElement($a,Tr({},f,R))}export{Rh as H,vh as I,Ph as P,Oh as R,jh as S,Sh as a,bh as b,yh as u};
